<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ET: Legacy: src/qcommon/vm.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ET: Legacy
   </div>
   <div id="projectbrief">Open-source team based FPS game compatible with Wolfenstein: Enemy Territoryâ„¢</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_afd2f64ae35ff80263387f1d465e467a.html">qcommon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">vm.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Virtual machine intermix code and data symbol table.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="vm__local_8h_source.html">vm_local.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys__local_8h_source.html">../sys/sys_local.h</a>&quot;</code><br />
</div>
<p><a href="vm_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a962b554e2f7d14a6be27f9d6e7f9d405"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a962b554e2f7d14a6be27f9d6e7f9d405">MAX_VM</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a962b554e2f7d14a6be27f9d6e7f9d405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6423a880df59733d2d9b509c7718d3a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a6423a880df59733d2d9b509c7718d3a9">STACK_SIZE</a>&#160;&#160;&#160;0x20000</td></tr>
<tr class="separator:a6423a880df59733d2d9b509c7718d3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7aa0f296de0f8c4568080b05ef2d06e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a7aa0f296de0f8c4568080b05ef2d06e1">VM_VmInfo_f</a> (void)</td></tr>
<tr class="memdesc:a7aa0f296de0f8c4568080b05ef2d06e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_VmInfo_f.  <a href="#a7aa0f296de0f8c4568080b05ef2d06e1">More...</a><br /></td></tr>
<tr class="separator:a7aa0f296de0f8c4568080b05ef2d06e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a5bee4c25eb724ea948fa8e1047cb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#ac7a5bee4c25eb724ea948fa8e1047cb9">VM_VmProfile_f</a> (void)</td></tr>
<tr class="memdesc:ac7a5bee4c25eb724ea948fa8e1047cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_VmProfile_f.  <a href="#ac7a5bee4c25eb724ea948fa8e1047cb9">More...</a><br /></td></tr>
<tr class="separator:ac7a5bee4c25eb724ea948fa8e1047cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046816e6417030c0fb0023e1325b58ce"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a046816e6417030c0fb0023e1325b58ce">VM_VM2C</a> (<a class="el" href="vm__local_8h.html#a68ead56f64268af7752d2a0813140eec">vmptr_t</a> p, int length)</td></tr>
<tr class="memdesc:a046816e6417030c0fb0023e1325b58ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a VM pointer to a C pointer and checks to make sure that the range is acceptable.  <a href="#a046816e6417030c0fb0023e1325b58ce">More...</a><br /></td></tr>
<tr class="separator:a046816e6417030c0fb0023e1325b58ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cba3cf9a345ea6e6ba80d74aa54c381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a9cba3cf9a345ea6e6ba80d74aa54c381">VM_Debug</a> (int <a class="el" href="g__main_8c.html#a368770cadef7c57475ca4f3aabff42c0">level</a>)</td></tr>
<tr class="memdesc:a9cba3cf9a345ea6e6ba80d74aa54c381"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_Debug.  <a href="#a9cba3cf9a345ea6e6ba80d74aa54c381">More...</a><br /></td></tr>
<tr class="separator:a9cba3cf9a345ea6e6ba80d74aa54c381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a054050c633454d0bb2e706c6921b2a34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a054050c633454d0bb2e706c6921b2a34">VM_Init</a> (void)</td></tr>
<tr class="memdesc:a054050c633454d0bb2e706c6921b2a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_Init.  <a href="#a054050c633454d0bb2e706c6921b2a34">More...</a><br /></td></tr>
<tr class="separator:a054050c633454d0bb2e706c6921b2a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d30482bd263d6f4d33c27a86709b9a7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a6d30482bd263d6f4d33c27a86709b9a7">VM_ValueToSymbol</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm, int value)</td></tr>
<tr class="memdesc:a6d30482bd263d6f4d33c27a86709b9a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assumes a program counter value.  <a href="#a6d30482bd263d6f4d33c27a86709b9a7">More...</a><br /></td></tr>
<tr class="separator:a6d30482bd263d6f4d33c27a86709b9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140e0d2692990768252455b7d1fea1c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a140e0d2692990768252455b7d1fea1c7">VM_SymbolToValue</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm, const char *symbol)</td></tr>
<tr class="memdesc:a140e0d2692990768252455b7d1fea1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_SymbolToValue.  <a href="#a140e0d2692990768252455b7d1fea1c7">More...</a><br /></td></tr>
<tr class="separator:a140e0d2692990768252455b7d1fea1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0b25805b30c78fa44f0f19b761ee11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a5a0b25805b30c78fa44f0f19b761ee11">ParseHex</a> (const char *<a class="el" href="g__character_8c.html#af121d1294678e63f1fe71694880ef3ed">text</a>)</td></tr>
<tr class="memdesc:a5a0b25805b30c78fa44f0f19b761ee11"><td class="mdescLeft">&#160;</td><td class="mdescRight">ParseHex.  <a href="#a5a0b25805b30c78fa44f0f19b761ee11">More...</a><br /></td></tr>
<tr class="separator:a5a0b25805b30c78fa44f0f19b761ee11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5d63b20e7310ff2fdf44e57678fd9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a9e5d63b20e7310ff2fdf44e57678fd9d">VM_LoadSymbols</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm)</td></tr>
<tr class="memdesc:a9e5d63b20e7310ff2fdf44e57678fd9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_LoadSymbols.  <a href="#a9e5d63b20e7310ff2fdf44e57678fd9d">More...</a><br /></td></tr>
<tr class="separator:a9e5d63b20e7310ff2fdf44e57678fd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5414e7328afcbce15aa674f5d9ad454"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#ac5414e7328afcbce15aa674f5d9ad454">VM_DllSyscall</a> (<a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> arg,...)</td></tr>
<tr class="memdesc:ac5414e7328afcbce15aa674f5d9ad454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dlls will call this directly.  <a href="#ac5414e7328afcbce15aa674f5d9ad454">More...</a><br /></td></tr>
<tr class="separator:ac5414e7328afcbce15aa674f5d9ad454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c40c35607abee6591e3de8f3cc680e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#ad8c40c35607abee6591e3de8f3cc680e">VM_Restart</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm)</td></tr>
<tr class="memdesc:ad8c40c35607abee6591e3de8f3cc680e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload the data, but leave everything else in place This allows a server to do a map_restart without changing memory allocation.  <a href="#ad8c40c35607abee6591e3de8f3cc680e">More...</a><br /></td></tr>
<tr class="separator:ad8c40c35607abee6591e3de8f3cc680e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4bdc7e7cfb7fc9aad7410d6cca3955c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#ab4bdc7e7cfb7fc9aad7410d6cca3955c">VM_Create</a> (const char *module, <a class="el" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a> extract, <a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a>(*systemCalls)(<a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> *), <a class="el" href="qcommon_8h.html#a8ffc60e84daf6f160ab3c6250c9e38e5">vmInterpret_t</a> interpret)</td></tr>
<tr class="memdesc:ab4bdc7e7cfb7fc9aad7410d6cca3955c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If image ends in .qvm it will be interpreted, otherwise it will attempt to load as a system dll.  <a href="#ab4bdc7e7cfb7fc9aad7410d6cca3955c">More...</a><br /></td></tr>
<tr class="separator:ab4bdc7e7cfb7fc9aad7410d6cca3955c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81b0ab6429cb70f9572550e79557405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#ac81b0ab6429cb70f9572550e79557405">VM_Free</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm)</td></tr>
<tr class="memdesc:ac81b0ab6429cb70f9572550e79557405"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_Free.  <a href="#ac81b0ab6429cb70f9572550e79557405">More...</a><br /></td></tr>
<tr class="separator:ac81b0ab6429cb70f9572550e79557405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fbd5c085f8ee9a8589e2dfd8941dff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a18fbd5c085f8ee9a8589e2dfd8941dff">VM_Clear</a> (void)</td></tr>
<tr class="memdesc:a18fbd5c085f8ee9a8589e2dfd8941dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_Clear.  <a href="#a18fbd5c085f8ee9a8589e2dfd8941dff">More...</a><br /></td></tr>
<tr class="separator:a18fbd5c085f8ee9a8589e2dfd8941dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92776ed87bcfd501ae9aad59ef246e25"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a92776ed87bcfd501ae9aad59ef246e25">VM_ArgPtr</a> (<a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> intValue)</td></tr>
<tr class="memdesc:a92776ed87bcfd501ae9aad59ef246e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_ArgPtr.  <a href="#a92776ed87bcfd501ae9aad59ef246e25">More...</a><br /></td></tr>
<tr class="separator:a92776ed87bcfd501ae9aad59ef246e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7ae9a6a3b85fd17dd0b65a32b86695"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#acd7ae9a6a3b85fd17dd0b65a32b86695">VM_ExplicitArgPtr</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm, <a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> intValue)</td></tr>
<tr class="memdesc:acd7ae9a6a3b85fd17dd0b65a32b86695"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_ExplicitArgPtr.  <a href="#acd7ae9a6a3b85fd17dd0b65a32b86695">More...</a><br /></td></tr>
<tr class="separator:acd7ae9a6a3b85fd17dd0b65a32b86695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f22f689d7cb561f68bbec76475527c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a7f22f689d7cb561f68bbec76475527c7">VM_CallFunc</a> (<a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *vm, int callNum,...)</td></tr>
<tr class="memdesc:a7f22f689d7cb561f68bbec76475527c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_CallFunc.  <a href="#a7f22f689d7cb561f68bbec76475527c7">More...</a><br /></td></tr>
<tr class="separator:a7f22f689d7cb561f68bbec76475527c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac2da0a127d6c4d5a2702e450121072"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a4ac2da0a127d6c4d5a2702e450121072">VM_ProfileSort</a> (const void *<a class="el" href="snd__wavelet_8c.html#a09ebd310e71d5c5075c8631ceee3033d">a</a>, const void *b)</td></tr>
<tr class="memdesc:a4ac2da0a127d6c4d5a2702e450121072"><td class="mdescLeft">&#160;</td><td class="mdescRight">VM_ProfileSort.  <a href="#a4ac2da0a127d6c4d5a2702e450121072">More...</a><br /></td></tr>
<tr class="separator:a4ac2da0a127d6c4d5a2702e450121072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eae9cea2afaa102bd5802c8c310ed4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a4eae9cea2afaa102bd5802c8c310ed4f">VM_LogSyscalls</a> (int *args)</td></tr>
<tr class="memdesc:a4eae9cea2afaa102bd5802c8c310ed4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert calls to this while debugging the vm compiler.  <a href="#a4eae9cea2afaa102bd5802c8c310ed4f">More...</a><br /></td></tr>
<tr class="separator:a4eae9cea2afaa102bd5802c8c310ed4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a825120c104d0ec0124d3928b504fe07c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a825120c104d0ec0124d3928b504fe07c">currentVM</a> = <a class="el" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a825120c104d0ec0124d3928b504fe07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a400ce3e0819434f2895779c620e4b9c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a400ce3e0819434f2895779c620e4b9c2">lastVM</a> = <a class="el" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a400ce3e0819434f2895779c620e4b9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21dcca09017525085f7c0617b9470a4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a21dcca09017525085f7c0617b9470a4b">vm_debugLevel</a></td></tr>
<tr class="separator:a21dcca09017525085f7c0617b9470a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67edadfdd5e43908418178e6f722c15f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a67edadfdd5e43908418178e6f722c15f">vmTable</a> [<a class="el" href="qcommon_8h.html#a2381a7ebcbe02e14637016be008aa020a3488d83e6d8c8997bf3e2aea02ee5db7">MAX_VM</a>]</td></tr>
<tr class="separator:a67edadfdd5e43908418178e6f722c15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ca01ed2aee190cfd60e99b96d67f2c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vm_8c.html#a47ca01ed2aee190cfd60e99b96d67f2c">vmStrs</a> [<a class="el" href="qcommon_8h.html#a2381a7ebcbe02e14637016be008aa020a3488d83e6d8c8997bf3e2aea02ee5db7">MAX_VM</a>]</td></tr>
<tr class="separator:a47ca01ed2aee190cfd60e99b96d67f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Virtual machine intermix code and data symbol table. </p>
<p>A dll has one imported function: VM_SystemCall and one exported function: Perform </p>

<p>Definition in file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a962b554e2f7d14a6be27f9d6e7f9d405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_VM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00046">46</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00623">VM_Clear()</a>, <a class="el" href="vm_8c_source.html#l00453">VM_Create()</a>, and <a class="el" href="vm_8c_source.html#l00861">VM_VmInfo_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a6423a880df59733d2d9b509c7718d3a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STACK_SIZE&#160;&#160;&#160;0x20000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00442">442</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00453">VM_Create()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5a0b25805b30c78fa44f0f19b761ee11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ParseHex </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ParseHex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">text</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unused </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00180">180</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00212">VM_LoadSymbols()</a>.</p>

</div>
</div>
<a class="anchor" id="a92776ed87bcfd501ae9aad59ef246e25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* VM_ArgPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a>&#160;</td>
          <td class="paramname"><em>intValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_ArgPtr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">intValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00644">644</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7f22f689d7cb561f68bbec76475527c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a> VM_CallFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_CallFunc. </p>
<p>Upon a system call, the stack will look like:</p>
<p>sp+32 parm1 sp+28 parm0 sp+24 return value sp+20 return address sp+16 local1 sp+14 local0 sp+12 arg1 sp+8 arg0 sp+4 return stack sp return address</p>
<p>An interpreted function will immediately execute an OP_ENTER instruction, which will subtract space for locals from sp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vm</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callNum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00717">717</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a18fbd5c085f8ee9a8589e2dfd8941dff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_Clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_Clear. </p>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00623">623</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="common_8c_source.html#l01921">Hunk_Clear()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4bdc7e7cfb7fc9aad7410d6cca3955c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a>* VM_Create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a>&#160;</td>
          <td class="paramname"><em>extract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a>(*)(<a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> *)&#160;</td>
          <td class="paramname"><em>systemCalls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#a8ffc60e84daf6f160ab3c6250c9e38e5">vmInterpret_t</a>&#160;</td>
          <td class="paramname"><em>interpret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If image ends in .qvm it will be interpreted, otherwise it will attempt to load as a system dll. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extract</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">systemCalls</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpret</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00453">453</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="cl__cgame_8c_source.html#l01151">CL_InitCGame()</a>, <a class="el" href="cl__ui_8c_source.html#l01379">CL_InitUI()</a>, <a class="el" href="sv__game_8c_source.html#l00766">SV_InitGameProgs()</a>, and <a class="el" href="vm_8c_source.html#l00368">VM_Restart()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cba3cf9a345ea6e6ba80d74aa54c381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_Debug </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_Debug. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00077">77</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="cl__cgame_8c_source.html#l01229">CL_CGameRendering()</a>, and <a class="el" href="vm__interpreted_8c_source.html#l00354">VM_CallInterpreted()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5414e7328afcbce15aa674f5d9ad454"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a> <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a> VM_DllSyscall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a>&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dlls will call this directly. </p>
<p>cg010206 The horror; the horror.</p>
<p>The syscall mechanism relies on stack manipulation to get it's args. This is likely due to C's inability to pass "..." parameters to a function in one clean chunk. On PowerPC Linux, these parameters are not necessarily passed on the stack, so while (&amp;arg[0] == arg) is true, (&amp;arg[1] == 2nd function parameter) is not necessarily accurate, as arg's value might have been stored to the stack or other piece of scratch memory to give it a valid address, but the next parameter might still be sitting in a register.</p>
<p>Quake's syscall system also assumes that the stack grows downward, and that any needed types can be squeezed, safely, into a signed int.</p>
<p>This hack below copies all needed values for an argument to a array in memory, so that Quake can get the correct values. This can also be used on systems where the stack grows upwards, as the presumably standard and safe stdargs.h macros are used.</p>
<p>As for having enough space in a signed int for your datatypes, well, it might be better to wait for DOOM 3 before you start porting. :)</p>
<p>The original code, while probably still inherently dangerous, seems to work well enough for the platforms it already works on. Rather than add the performance hit for those platforms, the original code is still in use there.</p>
<p>For speed, we just grab 15 arguments, and don't worry about exactly how many the syscall actually needs; the extra is thrown away.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00339">339</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00453">VM_Create()</a>.</p>

</div>
</div>
<a class="anchor" id="acd7ae9a6a3b85fd17dd0b65a32b86695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* VM_ExplicitArgPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ui__syscalls_8c.html#add3c6bdd44e6a11b22df40411131faeb">intptr_t</a>&#160;</td>
          <td class="paramname"><em>intValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_ExplicitArgPtr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vm</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00672">672</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="sv__client_8c_source.html#l00301">SV_DirectConnect()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00241">SV_MapRestart_f()</a>, and <a class="el" href="sv__init_8c_source.html#l00648">SV_SpawnServer()</a>.</p>

</div>
</div>
<a class="anchor" id="ac81b0ab6429cb70f9572550e79557405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_Free. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vm</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00593">593</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="cl__cgame_8c_source.html#l00586">CL_ShutdownCGame()</a>, <a class="el" href="cl__ui_8c_source.html#l01363">CL_ShutdownUI()</a>, <a class="el" href="sv__game_8c_source.html#l00697">SV_ShutdownGameProgs()</a>, <a class="el" href="vm_8c_source.html#l00453">VM_Create()</a>, and <a class="el" href="vm_8c_source.html#l00368">VM_Restart()</a>.</p>

</div>
</div>
<a class="anchor" id="a054050c633454d0bb2e706c6921b2a34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_Init. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000358">Todo:</a></b></dt><dd>: doesn't print anything with +set developer 1 </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00085">85</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="common_8c_source.html#l02775">Com_Init()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e5d63b20e7310ff2fdf44e57678fd9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_LoadSymbols </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_LoadSymbols. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Unused </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00212">212</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00453">VM_Create()</a>.</p>

</div>
</div>
<a class="anchor" id="a4eae9cea2afaa102bd5802c8c310ed4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_LogSyscalls </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert calls to this while debugging the vm compiler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00898">898</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac2da0a127d6c4d5a2702e450121072"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="q__platform_8h.html#af8273ae2b4cacc8b918137c2c3f097b1">QDECL</a> VM_ProfileSort </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>VM_ProfileSort. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00790">790</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00811">VM_VmProfile_f()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8c40c35607abee6591e3de8f3cc680e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a>* VM_Restart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload the data, but leave everything else in place This allows a server to do a map_restart without changing memory allocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000359">Todo:</a></b></dt><dd>: Division of result of sizeof() on pointer type. This seems suspect. </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00368">368</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="sv__game_8c_source.html#l00745">SV_RestartGameProgs()</a>.</p>

</div>
</div>
<a class="anchor" id="a140e0d2692990768252455b7d1fea1c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VM_SymbolToValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_SymbolToValue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vm</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">symbol</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unused </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00159">159</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6d30482bd263d6f4d33c27a86709b9a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* VM_ValueToSymbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assumes a program counter value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vm</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00099">99</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm__interpreted_8c_source.html#l00354">VM_CallInterpreted()</a>, and <a class="el" href="vm__interpreted_8c_source.html#l00150">VM_Indent()</a>.</p>

</div>
</div>
<a class="anchor" id="a046816e6417030c0fb0023e1325b58ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* VM_VM2C </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__local_8h.html#a68ead56f64268af7752d2a0813140eec">vmptr_t</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a VM pointer to a C pointer and checks to make sure that the range is acceptable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>- unused </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unused </dd></dl>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00068">68</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7aa0f296de0f8c4568080b05ef2d06e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_VmInfo_f </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_VmInfo_f. </p>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00861">861</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00085">VM_Init()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7a5bee4c25eb724ea948fa8e1047cb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VM_VmProfile_f </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VM_VmProfile_f. </p>

<p>Definition at line <a class="el" href="vm_8c_source.html#l00811">811</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00085">VM_Init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a825120c104d0ec0124d3928b504fe07c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a>* currentVM = <a class="el" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00042">42</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00717">VM_CallFunc()</a>.</p>

</div>
</div>
<a class="anchor" id="a400ce3e0819434f2895779c620e4b9c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a>* lastVM = <a class="el" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00043">43</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00811">VM_VmProfile_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a21dcca09017525085f7c0617b9470a4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vm_debugLevel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00044">44</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

<p>Referenced by <a class="el" href="vm_8c_source.html#l00717">VM_CallFunc()</a>, <a class="el" href="vm__interpreted_8c_source.html#l00354">VM_CallInterpreted()</a>, and <a class="el" href="vm_8c_source.html#l00077">VM_Debug()</a>.</p>

</div>
</div>
<a class="anchor" id="a47ca01ed2aee190cfd60e99b96d67f2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* vmStrs[<a class="el" href="qcommon_8h.html#a2381a7ebcbe02e14637016be008aa020a3488d83e6d8c8997bf3e2aea02ee5db7">MAX_VM</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    <span class="stringliteral">&quot;GameVM&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;CGameVM&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;UIVM&quot;</span>,</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="vm_8c_source.html#l00049">49</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a67edadfdd5e43908418178e6f722c15f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcommon_8h.html#ae6defc1983dca02a12201e301bbd337f">vm_t</a> vmTable[<a class="el" href="qcommon_8h.html#a2381a7ebcbe02e14637016be008aa020a3488d83e6d8c8997bf3e2aea02ee5db7">MAX_VM</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vm_8c_source.html#l00047">47</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 16 2019 14:19:58 for ET: Legacy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

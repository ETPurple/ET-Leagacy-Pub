<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ET: Legacy: src/renderercommon/tr_image_jpg.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ET: Legacy
   </div>
   <div id="projectbrief">Open-source team based FPS game compatible with Wolfenstein: Enemy Territoryâ„¢</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_cf197ce057b4ccaac8a91d79e135d82e.html">renderercommon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tr_image_jpg.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="tr__common_8h_source.html">tr_common.h</a>&quot;</code><br />
<code>#include &lt;jpeglib.h&gt;</code><br />
<code>#include &lt;setjmp.h&gt;</code><br />
</div>
<p><a href="tr__image__jpg_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmy__jpeg__error__mgr.html">my_jpeg_error_mgr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override default libjpeg error manager in order to be able to jump back out to our routines during JPEG decoding. setjmp/longjmp buffer is added to make a custom JPEG manager struct.  <a href="structmy__jpeg__error__mgr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmy__destination__mgr.html">my_destination_mgr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expanded data destination object for stdio output.  <a href="structmy__destination__mgr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaa572679b68ce44ebdaf8e21772ce9a7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structmy__destination__mgr.html">my_destination_mgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#aaa572679b68ce44ebdaf8e21772ce9a7">my_dest_ptr</a></td></tr>
<tr class="separator:aaa572679b68ce44ebdaf8e21772ce9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ef9232020d41714cd5ec5b27d89b4e3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a6ef9232020d41714cd5ec5b27d89b4e3">__attribute__</a> ((noreturn))</td></tr>
<tr class="memdesc:a6ef9232020d41714cd5ec5b27d89b4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">R_JPGErrorExit.  <a href="#a6ef9232020d41714cd5ec5b27d89b4e3">More...</a><br /></td></tr>
<tr class="separator:a6ef9232020d41714cd5ec5b27d89b4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43940e906eb2a36aa9ff552db1c244eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a43940e906eb2a36aa9ff552db1c244eb">R_JPGOutputMessage</a> (j_common_ptr cinfo)</td></tr>
<tr class="memdesc:a43940e906eb2a36aa9ff552db1c244eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">R_JPGOutputMessage.  <a href="#a43940e906eb2a36aa9ff552db1c244eb">More...</a><br /></td></tr>
<tr class="separator:a43940e906eb2a36aa9ff552db1c244eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af466c23b94a31234005d9cc06ba3c1df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#af466c23b94a31234005d9cc06ba3c1df">R_LoadJPG</a> (const char *filename, unsigned char **pic, int *<a class="el" href="sdl__splash_8h.html#aca34d28e3d8bcbcadb8edb4e3af24f8c">width</a>, int *<a class="el" href="sdl__splash_8h.html#ab2e78c61905b4419fcc7b4cfc500fe85">height</a>, <a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> alphaByte)</td></tr>
<tr class="memdesc:af466c23b94a31234005d9cc06ba3c1df"><td class="mdescLeft">&#160;</td><td class="mdescRight">R_LoadJPG.  <a href="#af466c23b94a31234005d9cc06ba3c1df">More...</a><br /></td></tr>
<tr class="separator:af466c23b94a31234005d9cc06ba3c1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20876c889315607c7df01cf02be7e92f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a20876c889315607c7df01cf02be7e92f">init_destination</a> (j_compress_ptr cinfo)</td></tr>
<tr class="memdesc:a20876c889315607c7df01cf02be7e92f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize destination &mdash; called by jpeg_start_compress before any data is actually written.  <a href="#a20876c889315607c7df01cf02be7e92f">More...</a><br /></td></tr>
<tr class="separator:a20876c889315607c7df01cf02be7e92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed231f39951d127c94e9772d97e1baf"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a2ed231f39951d127c94e9772d97e1baf">empty_output_buffer</a> (j_compress_ptr cinfo)</td></tr>
<tr class="memdesc:a2ed231f39951d127c94e9772d97e1baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty the output buffer &mdash; Called whenever buffer fills up.  <a href="#a2ed231f39951d127c94e9772d97e1baf">More...</a><br /></td></tr>
<tr class="separator:a2ed231f39951d127c94e9772d97e1baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b6542c737f18a83b7c7718ae8e7143"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#af2b6542c737f18a83b7c7718ae8e7143">term_destination</a> (j_compress_ptr cinfo)</td></tr>
<tr class="memdesc:af2b6542c737f18a83b7c7718ae8e7143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate destination &mdash; called by jpeg_finish_compress after all data has been written. Usually needs to flush buffer.  <a href="#af2b6542c737f18a83b7c7718ae8e7143">More...</a><br /></td></tr>
<tr class="separator:af2b6542c737f18a83b7c7718ae8e7143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5b281e475537b22034f2802432ab5a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#aeb5b281e475537b22034f2802432ab5a">jpegDest</a> (j_compress_ptr cinfo, <a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *outfile, int size)</td></tr>
<tr class="memdesc:aeb5b281e475537b22034f2802432ab5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare for output to a stdio stream. The caller must have already opened the stream, and is responsible for closing it after finishing compression.  <a href="#aeb5b281e475537b22034f2802432ab5a">More...</a><br /></td></tr>
<tr class="separator:aeb5b281e475537b22034f2802432ab5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98da338a8755506465b0bb2d865da199"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a98da338a8755506465b0bb2d865da199">RE_SaveJPGToBuffer</a> (<a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="snd__mem_8c.html#a75f40ee6a814276c095e1efe24b73517">buffer</a>, size_t bufSize, int quality, int image_width, int image_height, <a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *image_buffer, int padding)</td></tr>
<tr class="memdesc:a98da338a8755506465b0bb2d865da199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes JPEG from image in image_buffer and writes to buffer. Expects RGB input data.  <a href="#a98da338a8755506465b0bb2d865da199">More...</a><br /></td></tr>
<tr class="separator:a98da338a8755506465b0bb2d865da199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e75d5476846a8fc4155293ae0bfa13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tr__image__jpg_8c.html#a03e75d5476846a8fc4155293ae0bfa13">RE_SaveJPG</a> (const char *filename, int quality, int image_width, int image_height, <a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *image_buffer, int padding)</td></tr>
<tr class="memdesc:a03e75d5476846a8fc4155293ae0bfa13"><td class="mdescLeft">&#160;</td><td class="mdescRight">RE_SaveJPG.  <a href="#a03e75d5476846a8fc4155293ae0bfa13">More...</a><br /></td></tr>
<tr class="separator:a03e75d5476846a8fc4155293ae0bfa13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aaa572679b68ce44ebdaf8e21772ce9a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structmy__destination__mgr.html">my_destination_mgr</a>* <a class="el" href="tr__image__jpg_8c.html#aaa572679b68ce44ebdaf8e21772ce9a7">my_dest_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00296">296</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6ef9232020d41714cd5ec5b27d89b4e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(noreturn)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>R_JPGErrorExit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cinfo</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00063">63</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ed231f39951d127c94e9772d97e1baf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean empty_output_buffer </td>
          <td>(</td>
          <td class="paramtype">j_compress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty the output buffer &mdash; Called whenever buffer fills up. </p>
<p>In typical applications, this should write the entire output buffer (ignoring the current state of next_output_byte &amp; free_in_buffer), reset the pointer &amp; count to the start of the buffer, and return TRUE indicating that the buffer has been dumped.</p>
<p>In applications that need to be able to suspend compression due to output overrun, a FALSE return indicates that the buffer cannot be emptied now. In this situation, the compressor will return to its caller (possibly with an indication that it has not accepted all the supplied scanlines). The application should resume compression after it has made more room in the output buffer. Note that there are substantial restrictions on the use of suspension &mdash; see the documentation.</p>
<p>When suspending, the compressor will back up to a convenient restart point (typically the start of the current MCU). next_output_byte &amp; free_in_buffer indicate where the restart point will be if the current call returns FALSE. Data beyond this point will be regenerated after resumption, so do not write it out when emptying the buffer externally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cinfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00337">337</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__image__jpg_8c_source.html#l00375">jpegDest()</a>.</p>

</div>
</div>
<a class="anchor" id="a20876c889315607c7df01cf02be7e92f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_destination </td>
          <td>(</td>
          <td class="paramtype">j_compress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize destination &mdash; called by jpeg_start_compress before any data is actually written. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cinfo</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00303">303</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__image__jpg_8c_source.html#l00375">jpegDest()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb5b281e475537b22034f2802432ab5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jpegDest </td>
          <td>(</td>
          <td class="paramtype">j_compress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare for output to a stdio stream. The caller must have already opened the stream, and is responsible for closing it after finishing compression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cinfo</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outfile</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00375">375</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__image__jpg_8c_source.html#l00412">RE_SaveJPGToBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a43940e906eb2a36aa9ff552db1c244eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void R_JPGOutputMessage </td>
          <td>(</td>
          <td class="paramtype">j_common_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>R_JPGOutputMessage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cinfo</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00082">82</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__image__jpg_8c_source.html#l00101">R_LoadJPG()</a>, and <a class="el" href="tr__image__jpg_8c_source.html#l00412">RE_SaveJPGToBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="af466c23b94a31234005d9cc06ba3c1df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void R_LoadJPG </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>pic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>alphaByte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>R_LoadJPG. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pic</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">width</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">height</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">alphaByte</td><td>- unused </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00101">101</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

</div>
</div>
<a class="anchor" id="a03e75d5476846a8fc4155293ae0bfa13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RE_SaveJPG </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>image_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>padding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RE_SaveJPG. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_width</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_height</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_buffer</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">padding</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00487">487</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

</div>
</div>
<a class="anchor" id="a98da338a8755506465b0bb2d865da199"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t RE_SaveJPGToBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="q__shared_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>image_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>padding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes JPEG from image in image_buffer and writes to buffer. Expects RGB input data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufSize</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_width</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_height</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image_buffer</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">padding</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00412">412</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__init_8c_source.html#l00595">RB_TakeVideoFrameCmd()</a>, and <a class="el" href="tr__image__jpg_8c_source.html#l00487">RE_SaveJPG()</a>.</p>

</div>
</div>
<a class="anchor" id="af2b6542c737f18a83b7c7718ae8e7143"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void term_destination </td>
          <td>(</td>
          <td class="paramtype">j_compress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate destination &mdash; called by jpeg_finish_compress after all data has been written. Usually needs to flush buffer. </p>
<p>NB: <em>not</em> called by jpeg_abort or jpeg_destroy; surrounding application must deal with any cleanup that should happen even for error exit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cinfo</td><td>- unused</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Empty function </dd></dl>

<p>Definition at line <a class="el" href="tr__image__jpg_8c_source.html#l00362">362</a> of file <a class="el" href="tr__image__jpg_8c_source.html">tr_image_jpg.c</a>.</p>

<p>Referenced by <a class="el" href="tr__image__jpg_8c_source.html#l00375">jpegDest()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 16 2019 14:19:59 for ET: Legacy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ET: Legacy: src/renderer2/tr_shade.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ET: Legacy
   </div>
   <div id="projectbrief">Open-source team based FPS game compatible with Wolfenstein: Enemy Territoryâ„¢</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_31e002e08122961b4f35a02632d09d55.html">renderer2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tr_shade.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_2tr__shade_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Wolfenstein: Enemy Territory GPL Source Code</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 1999-2010 id Software LLC, a ZeniMax Media company.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2010-2011 Robert Beckebans &lt;trebor_7@users.sourceforge.net&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * ET: Legacy</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Copyright (C) 2012-2018 ET:Legacy team &lt;mail@etlegacy.com&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This file is part of ET: Legacy - http://www.etlegacy.com</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * ET: Legacy is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * ET: Legacy is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * along with ET: Legacy. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * In addition, Wolfenstein: Enemy Territory GPL Source Code is also</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * subject to certain additional terms. You should have received a copy</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * of these additional terms immediately following the terms and conditions</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * of the GNU General Public License which accompanied the source code.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * If not, please request a copy in writing from id Software at the address below.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * id Software LLC, c/o ZeniMax Media Inc., Suite 120, Rockville, Maryland 20850 USA.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_2tr__local_8h.html">tr_local.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * @brief MyMultiDrawElements</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * @param[in] mode</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * @param[in] count</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * @param[in] type</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * @param[in] indices</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * @param[in] primcount</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * @note Unused</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">static void MyMultiDrawElements(GLenum mode, const GLsizei *count, GLenum type, const void* *indices, GLsizei primcount)</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    int         i;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    for (i = 0; i &lt; primcount; i++)</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">        if (count[i] &gt; 0)</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">            glDrawElements(mode, count[i], type, indices[i]);</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a2d79ebe1d4d08d2e74cad5f9d1510fdc">   65</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#a2d79ebe1d4d08d2e74cad5f9d1510fdc">Tess_DrawElements</a>()</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> ((tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a> == 0 || tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a> == 0) &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a> == 0)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// move tess data through the GPU, finally</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a>.<a class="code" href="structglstate__t.html#a4b017bca5a1e5cfdd1d05dade5a11b6f">currentVBO</a> &amp;&amp; <a class="code" href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a>.<a class="code" href="structglstate__t.html#af39be9d260f3b5120dfec237764d222b">currentIBO</a>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a>)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            glMultiDrawElements(GL_TRIANGLES, tess.<a class="code" href="structshaderCommands__s.html#a6e17b51d5f41cff18d639b02a98f8c6d">multiDrawCounts</a>, <a class="code" href="tr__local_8h.html#a019270c631e639100bb8a5e8cff8e34c">GL_INDEX_TYPE</a>, (<span class="keyword">const</span> GLvoid **) tess.<a class="code" href="structshaderCommands__s.html#a9dda1de78bec2f6db636e2e3ef085d94">multiDrawIndexes</a>, tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a135c7ec86d292ecd8fa75ba70ec64dc5">c_multiDrawElements</a>++;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a28a42705f15609f9049abe41734ffe26">c_multiDrawPrimitives</a> += tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a314833200e129e56302656afe7fed31c">c_vboVertexes</a> += tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a>; i++)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a34220355add8a764380cfa1d43b110a6">c_multiVboIndexes</a> += tess.<a class="code" href="structshaderCommands__s.html#a6e17b51d5f41cff18d639b02a98f8c6d">multiDrawCounts</a>[i];</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a59e1dfba6b4e887e0b23066c6702d334">c_indexes</a>         += tess.<a class="code" href="structshaderCommands__s.html#a6e17b51d5f41cff18d639b02a98f8c6d">multiDrawCounts</a>[i];</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            glDrawElements(GL_TRIANGLES, tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>, <a class="code" href="tr__local_8h.html#a019270c631e639100bb8a5e8cff8e34c">GL_INDEX_TYPE</a>, <a class="code" href="_2tr__local_8h.html#a063a3af905ecefe83d76ca3f0fe0653e">BUFFER_OFFSET</a>(0));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a43d7ede89e2a025c899bed348357239b">c_drawElements</a>++;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a314833200e129e56302656afe7fed31c">c_vboVertexes</a> += tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a033ee42028db4919dbfd139162b1eb26">c_vboIndexes</a>  += tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a59e1dfba6b4e887e0b23066c6702d334">c_indexes</a>  += tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a439ed1b215ccd9a0cd1ae13c24569f4c">c_vertexes</a> += tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        glDrawElements(GL_TRIANGLES, tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>, <a class="code" href="tr__local_8h.html#a019270c631e639100bb8a5e8cff8e34c">GL_INDEX_TYPE</a>, tess.<a class="code" href="structshaderCommands__s.html#afd5786e74aaa598ed3faf6e84f93283d">indexes</a>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a43d7ede89e2a025c899bed348357239b">c_drawElements</a>++;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a59e1dfba6b4e887e0b23066c6702d334">c_indexes</a>  += tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a439ed1b215ccd9a0cd1ae13c24569f4c">c_vertexes</a> += tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">=============================================================</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">SURFACE SHADERS</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">=============================================================</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ac5fd622afcb6ecc6963586d541146569">  122</a></span>&#160;<a class="code" href="structshaderCommands__s.html">shaderCommands_t</a> <a class="code" href="tr__shade_8c.html#ac5fd622afcb6ecc6963586d541146569">tess</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a9cfe47a1256f5dfc47b88ad474b5f244">  127</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#a9cfe47a1256f5dfc47b88ad474b5f244">BindLightMap</a>()</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="structimage__s.html">image_t</a> *lightmap = <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a3641a2f9201c25daea2e70dd88e71681">lightmaps</a>.currentElements &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">lightmapNum</a> &gt;= 0 &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">lightmapNum</a> &lt; <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a3641a2f9201c25daea2e70dd88e71681">lightmaps</a>.currentElements)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        lightmap = (<a class="code" href="structimage__s.html">image_t</a> *)<a class="code" href="tr__growlist_8c.html#a28d713023f3f81492b95b03088fc9e6c">Com_GrowListElement</a>(&amp;<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a3641a2f9201c25daea2e70dd88e71681">lightmaps</a>, tess.<a class="code" href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">lightmapNum</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (lightmap)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(lightmap);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a26544a65eb3a77514c16db1f7a7ef36a">whiteImage</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a42278e5bd116ef11e5be3cdffd4cae0a">  183</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#a42278e5bd116ef11e5be3cdffd4cae0a">BindCubeMaps</a>()</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="structcubemapProbe__t.html">cubemapProbe_t</a> *cubeProbe1; <span class="comment">// nearest</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="structcubemapProbe__t.html">cubemapProbe_t</a> *cubeProbe2; <span class="comment">// 2nd nearest</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">float</span>          distance1, distance2, interpolate = 1.0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="structimage__s.html">image_t</a>        *env0     = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#ad36628bf4184a649bf2a54e33a464c11">autoCubeImage</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="structimage__s.html">image_t</a>        *env1     = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#ad36628bf4184a649bf2a54e33a464c11">autoCubeImage</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a>       isEntity  = (<a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#ab94d05ce546266206f83ff822fa54479">currentEntity</a> &amp;&amp; (<a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#ab94d05ce546266206f83ff822fa54479">currentEntity</a> != &amp;<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a515fa65dffc89b1e7a178e06b41c1127">worldEntity</a>));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="q__math_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>         *position = (isEntity) ? &amp;<a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#ab94d05ce546266206f83ff822fa54479">currentEntity</a>-&gt;<a class="code" href="structtrRefEntity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="structrefEntity__t.html#ab88f5edbfad79cbcae62cc23ccf5f333">origin</a> : &amp;<a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#a99041902dad93dcc545ed488b9f24be5">orientation</a>.<a class="code" href="structorientationr__t.html#ac0e5b962f64894705214585b9be4a481">origin</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="_2tr__bsp_8c.html#a46fcf83686ada4159e384e990e2cab5f">R_FindTwoNearestCubeMaps</a>(*position, &amp;cubeProbe1, &amp;cubeProbe2, &amp;distance1, &amp;distance2);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (cubeProbe1 != <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cubeProbe2 != <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    { <span class="comment">// the most likely case..</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        env0 = cubeProbe1-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        env1 = cubeProbe2-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        interpolate = distance1 / (distance1 + distance2);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="comment">//Ren_LogComment(&quot;cubeProbeNearestDistance = %f, cubeProbeSecondNearestDistance = %f, interpolation = %f\n&quot;, distance1, distance2, interpolate);</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cubeProbe1 != <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cubeProbe2 == <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        env0 = cubeProbe1-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        env1 = cubeProbe1-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cubeProbe1 == <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cubeProbe2 != <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        env0 = cubeProbe2-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        env1 = cubeProbe2-&gt;<a class="code" href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemap</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// bind u_EnvironmentMap0</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="_2tr__local_8h.html#a846aa7f36decc5761075f4a9e052a588">SelectTexture</a>(TEX_ENVMAP0);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(env0);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// bind u_EnvironmentMap1</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="_2tr__local_8h.html#a846aa7f36decc5761075f4a9e052a588">SelectTexture</a>(TEX_ENVMAP1);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(env1);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// u_EnvironmentInterpolation</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="_2tr__local_8h.html#ad3e27233a3abbf0ff4f1337216fd33a6">SetUniformFloat</a>(UNIFORM_ENVIRONMENTINTERPOLATION, interpolate);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ab3cedb51d585073a063bc0d6e6a24f37">  225</a></span>&#160;<a class="code" href="structbspGridPoint__t.html">bspGridPoint_t</a> *<a class="code" href="_2tr__shade_8c.html#ab3cedb51d585073a063bc0d6e6a24f37">LightgridColor</a>(<span class="keyword">const</span> <a class="code" href="q__math_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> position)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="q__math_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>         <a class="code" href="tr__shade__calc_8c.html#a8e715a4903a8e38760a17fa62b197edf">lightOrigin</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">int</span>            pos[3];</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">//float          frac[3];</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span>            <a class="code" href="cg__commandmap_8c.html#af192aff5aeee3fb6ac04fe40c6b7a592">gridStep</a>[3];</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="structbspGridPoint__t.html">bspGridPoint_t</a> *gridPoint;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">int</span>            i;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">float</span>          <a class="code" href="tr__animation__mdm_8c.html#a7e13b3568b7b041b8cab1201461c2ab5">v</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="q__shared_8h.html#acee920a7a509b98f219ea025a2bee6a6">etl_assert</a>(<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a3aef8bc3ac1484a891b03485a8591feb">lightGridData</a>);   <span class="comment">// NULL with -nolight maps</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">//VectorSubtract(lightOrigin, tr.world-&gt;lightGridOrigin, lightOrigin);</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    lightOrigin[0] = position[0] - <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a8227dac4b5dedc544a95d4847795777d">lightGridOrigin</a>[0];</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    lightOrigin[1] = position[1] - <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a8227dac4b5dedc544a95d4847795777d">lightGridOrigin</a>[1];</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    lightOrigin[2] = position[2] - <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a8227dac4b5dedc544a95d4847795777d">lightGridOrigin</a>[2];</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// index x,y,z in the lightgrid</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        v = lightOrigin[i] * <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a4f6a55e6a847d9a6a57fb34fa5a626ab">lightGridInverseSize</a>[i];</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        pos[i] = floor(v);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">//frac[i] = v - pos[i];</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (pos[i] &lt; 0)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            pos[i] = 0;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos[i] &gt; <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">lightGridBounds</a>[i] - 1)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            pos[i] = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">lightGridBounds</a>[i] - 1;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    gridStep[0] = 1; <span class="comment">//sizeof(bspGridPoint_t);</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    gridStep[1] = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">lightGridBounds</a>[0]; <span class="comment">// * sizeof(bspGridPoint_t);</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    gridStep[2] = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">lightGridBounds</a>[0] * <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">lightGridBounds</a>[1]; <span class="comment">// * sizeof(bspGridPoint_t);</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    gridPoint = <a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">world</a>-&gt;<a class="code" href="structworld__t.html#a3aef8bc3ac1484a891b03485a8591feb">lightGridData</a> + pos[0] * gridStep[0] + pos[1] * gridStep[1] + pos[2] * gridStep[2];</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> gridPoint;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#af405d32772b64bcb3169b1bed582984a">  268</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#af405d32772b64bcb3169b1bed582984a">BindTexture</a>(<a class="code" href="structimage__s.html">image_t</a> *image, <a class="code" href="structimage__s.html">image_t</a> *defaultImage)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (!image)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        image = defaultImage;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(image);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ae4a2bca3b839a8d9dbbb4c9357dbd866">  280</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#ae4a2bca3b839a8d9dbbb4c9357dbd866">DrawTris</a>()</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="q__math_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> *color;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// exclude 2d from drawing tris</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// we might add a flag for r_showtris to show 2D again but who wants to see this?!</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// (values 2 + 3  are used by r1!) </span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#a313b39b73b1c664d0ced38eea263e0b9">type</a> == <a class="code" href="_2tr__local_8h.html#a75a86349501f75dde9ae5ed2ff82393caf047b05779585d442b110184c96c83b1">SHADER_2D</a>)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="tr__common_8h.html#a49e74874c4bf06423bee4ddebf3da0d4">Ren_LogComment</a>(<span class="stringliteral">&quot;--- DrawTris ---\n&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="_2tr__local_8h.html#a62561a7ab8ad9d98bd5d27a8545ac390">SetMacrosAndSelectProgram</a>(<a class="code" href="tr__glsl_8c.html#a99226596358531924bb662c0302857e3">trProg</a>.<a class="code" href="structtrPrograms__s.html#a538677f42147a35a1176f35f8aee45bd">gl_genericShader</a>,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                              USE_ALPHA_TESTING, <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                              USE_PORTAL_CLIPPING, <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#ace457fbc4eb792ef5f7b6e12fefa32e8">isPortal</a>,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                              USE_VERTEX_SKINNING, <a class="code" href="_2tr__init_8c.html#a89cc2c404bbc681721dc3b1f707a9d44">glConfig2</a>.<a class="code" href="structglconfig2__t.html#afe93a05d66fc354515ac89197b8a7f4a">vboVertexSkinningAvailable</a> &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a2d331fa86f53c9da1f9f4739b4052971">vboVertexSkinning</a>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                              USE_VERTEX_ANIMATION, <a class="code" href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a>.<a class="code" href="structglstate__t.html#ac5c109841c9826d93833c2a72a5a522a">vertexAttribsInterpolation</a> &gt; 0,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                              USE_DEFORM_VERTEXES, <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>,</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                              USE_TCGEN_ENVIRONMENT, <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                              USE_TCGEN_LIGHTMAP, <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="tr__glsl_8c.html#aa06c82dd58c54a49b85444dd53cfff0c">GLSL_SetRequiredVertexPointers</a>(<a class="code" href="tr__glsl_8c.html#a99226596358531924bb662c0302857e3">trProg</a>.<a class="code" href="structtrPrograms__s.html#a538677f42147a35a1176f35f8aee45bd">gl_genericShader</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="tr__backend_8c.html#a13fa92a6d449dca2cae76a3049f6c514">GL_State</a>(<a class="code" href="_2tr__local_8h.html#a458e651af6690959efa2afb96be7d609affc07cd443a908d52e63a1f80b3a1733">GLS_POLYMODE_LINE</a> | <a class="code" href="_2tr__local_8h.html#a458e651af6690959efa2afb96be7d609a26c7b5847174a854a49f9b7db6dee3e2">GLS_DEPTHMASK_TRUE</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_2tr__init_8c.html#ab7752981814e805825ef050541cd5986">r_showBatches</a>-&gt;<a class="code" href="structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">integer</a> || <a class="code" href="_2tr__init_8c.html#a0b9086c669fd48ff75db36f932481468">r_showLightBatches</a>-&gt;<a class="code" href="structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">integer</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        color = <a class="code" href="q__math_8c.html#a62d31871a09eca9e84c3a893a9bcc516">g_color_table</a>[<a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">pc</a>.<a class="code" href="structbackEndCounters__t.html#a689eabab7a2f562bed3059d95ceea759">c_batches</a> % 8];</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a>.<a class="code" href="structglstate__t.html#a4b017bca5a1e5cfdd1d05dade5a11b6f">currentVBO</a> == tess.<a class="code" href="structshaderCommands__s.html#af207e3bc3719f78c51fd7be0420d0cff">vbo</a>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        color = <a class="code" href="q__math_8c.html#ad7d88bc5fdfab7daaecd31b4de4c3350">colorRed</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a>.<a class="code" href="structglstate__t.html#a4b017bca5a1e5cfdd1d05dade5a11b6f">currentVBO</a>)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        color = <a class="code" href="q__math_8c.html#a6f8fca61e0890bd029c57859218746da">colorBlue</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        color = <a class="code" href="q__math_8c.html#a7798365e8c9fb334ec4b483cd1ea1fca">colorWhite</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="_2tr__local_8h.html#a1bb9c769e2dc9cbce1c49344aef7fb50">SetUniformVec4</a>(UNIFORM_COLOR, color);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="tr__glsl_8c.html#a285556cc7dab54ce29453bec1c2cb500">GLSL_SetUniform_ColorModulate</a>(<a class="code" href="tr__glsl_8c.html#a99226596358531924bb662c0302857e3">trProg</a>.<a class="code" href="structtrPrograms__s.html#a538677f42147a35a1176f35f8aee45bd">gl_genericShader</a>, <a class="code" href="tr__local_8h.html#a157944afb15e3073932b378dc6e6f9cfa1fbea70c7c55f64be26dc0a4629c366c">CGEN_CONST</a>, <a class="code" href="tr__local_8h.html#a5f4270b11e8eb5f664fd81660a2f0427ae319229e08f6cb95dc5fe30bd9587d77">AGEN_CONST</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="_2tr__local_8h.html#a70e1d4ca25f4b51da7921ace90a8ec8a">SetUniformMatrix16</a>(UNIFORM_MODELMATRIX, <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a4a0ff35cdc462e107ab607dd5f419614">orientation</a>.<a class="code" href="structorientationr__t.html#a28618b99494bae5d7df85b2a874a2b5d">transformMatrix</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="_2tr__local_8h.html#a70e1d4ca25f4b51da7921ace90a8ec8a">SetUniformMatrix16</a>(UNIFORM_MODELVIEWPROJECTIONMATRIX, <a class="code" href="_2tr__local_8h.html#af19349cc2ddad2ec2826e0b2237c9672">GLSTACK_MVPM</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_2tr__init_8c.html#a89cc2c404bbc681721dc3b1f707a9d44">glConfig2</a>.<a class="code" href="structglconfig2__t.html#afe93a05d66fc354515ac89197b8a7f4a">vboVertexSkinningAvailable</a> &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a2d331fa86f53c9da1f9f4739b4052971">vboVertexSkinning</a>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="_2tr__local_8h.html#a987c585f3850d43c3970fdd5e72d50ad">SetUniformMatrix16ARR</a>(UNIFORM_BONEMATRIX, tess.<a class="code" href="structshaderCommands__s.html#a17f2ba09d45ed73d58980fee4dd9d729">boneMatrices</a>, <a class="code" href="tr__types_8h.html#abdb86b63a3ac2d2b3d6ad946ea404087">MAX_BONES</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// u_DeformGen</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#ad7e072249689528b97c784b3ab0ae887">numDeforms</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="tr__glsl_8c.html#ae7a711a9f1f25bc0b2169bd4b97043a7">GLSL_SetUniform_DeformParms</a>(tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#aa725e7da5f6f09ebd32d43a8475e7342">deforms</a>, tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#ad7e072249689528b97c784b3ab0ae887">numDeforms</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="_2tr__local_8h.html#ad3e27233a3abbf0ff4f1337216fd33a6">SetUniformFloat</a>(UNIFORM_TIME, tess.<a class="code" href="structshaderCommands__s.html#a9eef65cbd29baf74b570a95837fc9980">shaderTime</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// bind u_ColorMap</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="_2tr__local_8h.html#a846aa7f36decc5761075f4a9e052a588">SelectTexture</a>(TEX_COLOR);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a>(<a class="code" href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="structtrGlobals__t.html#a26544a65eb3a77514c16db1f7a7ef36a">whiteImage</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="_2tr__local_8h.html#a70e1d4ca25f4b51da7921ace90a8ec8a">SetUniformMatrix16</a>(UNIFORM_COLORTEXTUREMATRIX, tess.<a class="code" href="structshaderCommands__s.html#a9eeaf99477c935bff13ef5adeadaa488">svars</a>.texMatrices[<a class="code" href="_2tr__local_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eaadf89c2c541ef4de15be333ae432b44f">TB_COLORMAP</a>]);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    glDepthRange(0, 0);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="_2tr__shade_8c.html#a2d79ebe1d4d08d2e74cad5f9d1510fdc">Tess_DrawElements</a>();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    glDepthRange(0, 1);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">// *INDENT-OFF*</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#afdb22052698bf33a15b58be3d306f164">  369</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#afdb22052698bf33a15b58be3d306f164">Tess_Begin</a>(<span class="keywordtype">void</span> (*stageIteratorFunc)(),</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordtype">void</span> (*stageIteratorFunc2)(),</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="structshader__s.html">shader_t</a> *surfaceShader, <a class="code" href="structshader__s.html">shader_t</a> *lightShader,</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a> skipTangentSpaces,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <a class="code" href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a> skipVBO,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <span class="keywordtype">int</span> lightmapNum,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordtype">int</span> fogNum)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="structshader__s.html">shader_t</a> *<a class="code" href="structstate.html">state</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>          = 0;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>         = 0;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a738cad04ade744da225dd6880c35e8ec">attribsSet</a>          = 0;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">multiDrawPrimitives</a> = 0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// materials are optional</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (surfaceShader != <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        state = (surfaceShader-&gt;<a class="code" href="structshader__s.html#a8fc0bf1568f390169f53e8540ea467ef">remappedShader</a>) ? surfaceShader-&gt;<a class="code" href="structshader__s.html#a8fc0bf1568f390169f53e8540ea467ef">remappedShader</a> : surfaceShader;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>    = state;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a6b4d1ca366aa86dd7026860e851d7e42">surfaceStages</a>    = state-&gt;<a class="code" href="structshader__s.html#a874dcb77fabe25790074e9111e5ea8a0">stages</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a0f633d4840ac15bf74283d58cd981ebb">numSurfaceStages</a> = state-&gt;<a class="code" href="structshader__s.html#aacc170d2e968a5ea8d145e94d909994c">numStages</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        state = <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a0f633d4840ac15bf74283d58cd981ebb">numSurfaceStages</a> = 0;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>    = <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a6b4d1ca366aa86dd7026860e851d7e42">surfaceStages</a>    = <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#ac0d91d4c3792c303bd7d20e2c24185de">lightShader</a> = lightShader;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a892e1a938ce58f1a1feef4f63c45f746">stageIteratorFunc</a>  = stageIteratorFunc;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#aad1a000fe0048f30f06285f2f96d4c7a">stageIteratorFunc2</a> = stageIteratorFunc2;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (!tess.<a class="code" href="structshaderCommands__s.html#a892e1a938ce58f1a1feef4f63c45f746">stageIteratorFunc</a>)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment">//tess.stageIteratorFunc = &amp;Tess_StageIteratorGeneric;</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="tr__common_8h.html#a58ed4136a90ad8c1dcf1795785834c89">Ren_Fatal</a>(<span class="stringliteral">&quot;tess.stageIteratorFunc == NULL&quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a892e1a938ce58f1a1feef4f63c45f746">stageIteratorFunc</a> == &amp;<a class="code" href="_2tr__shade_8c.html#a0aaaf1f2ab9eca4757d86eec2fa6682a">Tess_StageIteratorGeneric</a>)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (state &amp;&amp; state-&gt;<a class="code" href="structshader__s.html#a89f20ab7415b09dd1a5b2086a8a66214">isSky</a>)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            tess.<a class="code" href="structshaderCommands__s.html#a892e1a938ce58f1a1feef4f63c45f746">stageIteratorFunc</a>  = &amp;<a class="code" href="_2tr__local_8h.html#aa5bfc0b691d750d4ff0625938b13ed2a">Tess_StageIteratorSky</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            tess.<a class="code" href="structshaderCommands__s.html#aad1a000fe0048f30f06285f2f96d4c7a">stageIteratorFunc2</a> = &amp;<a class="code" href="_2tr__shade_8c.html#a0aaaf1f2ab9eca4757d86eec2fa6682a">Tess_StageIteratorGeneric</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">    else if (tess.stageIteratorFunc == &amp;Tess_StageIteratorDepthFill)</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">        if (isSky)</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">            tess.stageIteratorFunc  = &amp;Tess_StageIteratorSky;</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">            tess.stageIteratorFunc2 = &amp;Tess_StageIteratorDepthFill;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a354cb6819daa4825accf9c3e902906f6">skipTangentSpaces</a> = skipTangentSpaces;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#af3cb1c5903a192ce19be9a89c29e004b">skipVBO</a>           = skipVBO;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">lightmapNum</a>       = lightmapNum;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    tess.<a class="code" href="structshaderCommands__s.html#a634a34277cc94e4fc8877398a9aa006a">fogNum</a>            = fogNum;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        tess.<a class="code" href="structshaderCommands__s.html#a9eef65cbd29baf74b570a95837fc9980">shaderTime</a> = <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#af7dcb3be1d862c15cd94d6b5bf4d25c6">refdef</a>.<a class="code" href="structtrRefdef__t.html#ade3c932f5d389ea35ca8b00de3815a06">floatTime</a> - tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#a07935f69cd87b50a9f0575dc0a8e5d19">timeOffset</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">if</span> (tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#ab0438ecf32c7ae598e6289354e20385c">clampTime</a> &amp;&amp; tess.<a class="code" href="structshaderCommands__s.html#a9eef65cbd29baf74b570a95837fc9980">shaderTime</a> &gt;= tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#ab0438ecf32c7ae598e6289354e20385c">clampTime</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            tess.<a class="code" href="structshaderCommands__s.html#a9eef65cbd29baf74b570a95837fc9980">shaderTime</a> = tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#ab0438ecf32c7ae598e6289354e20385c">clampTime</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="tr__common_8h.html#a49e74874c4bf06423bee4ddebf3da0d4">Ren_LogComment</a>(<span class="stringliteral">&quot;--- Tess_Begin( surfaceShader = %s, lightShader = %s, skipTangentSpaces = %i, lightmapNum = %i, fogNum = %i) ---\n&quot;</span>, tess.<a class="code" href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">surfaceShader</a>-&gt;<a class="code" href="structshader__s.html#afc2e518516d0759c0db52f4e1169869a">name</a>, tess.<a class="code" href="structshaderCommands__s.html#ac0d91d4c3792c303bd7d20e2c24185de">lightShader</a> ? tess.<a class="code" href="structshaderCommands__s.html#ac0d91d4c3792c303bd7d20e2c24185de">lightShader</a>-&gt;<a class="code" href="structshader__s.html#afc2e518516d0759c0db52f4e1169869a">name</a> : <a class="code" href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tess.<a class="code" href="structshaderCommands__s.html#a354cb6819daa4825accf9c3e902906f6">skipTangentSpaces</a>, tess.<a class="code" href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">lightmapNum</a>, tess.<a class="code" href="structshaderCommands__s.html#a634a34277cc94e4fc8877398a9aa006a">fogNum</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">// *INDENT-ON*</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#aa445489a93000a9b936be58793a9cd08">  453</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_2tr__shade_8c.html#aa445489a93000a9b936be58793a9cd08">clipPortalPlane</a>() <span class="comment">// static for now - might be used in tr_main.c and tr_sky.c</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="q__math_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a> plane;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    plane[0] = <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#a991daa8ef8ed15659df635c41e031d23">portalPlane</a>.<a class="code" href="structcplane__s.html#a466a987e7f7183a242cd3ff606c7ff77">normal</a>[0];</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    plane[1] = <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#a991daa8ef8ed15659df635c41e031d23">portalPlane</a>.<a class="code" href="structcplane__s.html#a466a987e7f7183a242cd3ff606c7ff77">normal</a>[1];</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    plane[2] = <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#a991daa8ef8ed15659df635c41e031d23">portalPlane</a>.<a class="code" href="structcplane__s.html#a466a987e7f7183a242cd3ff606c7ff77">normal</a>[2];</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    plane[3] = <a class="code" href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">viewParms</a>.<a class="code" href="structviewParms__t.html#a991daa8ef8ed15659df635c41e031d23">portalPlane</a>.<a class="code" href="structcplane__s.html#acdd292ac50d634994022aba7d3f89dff">dist</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="_2tr__local_8h.html#a1bb9c769e2dc9cbce1c49344aef7fb50">SetUniformVec4</a>(UNIFORM_PORTALPLANE, plane);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structrgbaGen__s.html">  464</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrgbaGen__s.html">rgbaGen_s</a> {</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="structrgbaGen__s.html#a66755370a2a9954c5972443f315e8e0f">  465</a></span>&#160;    <a class="code" href="tr__local_8h.html#a157944afb15e3073932b378dc6e6f9cf">colorGen_t</a> <a class="code" href="structrgbaGen__s.html#a66755370a2a9954c5972443f315e8e0f">color</a>;</div><div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="structrgbaGen__s.html#ab16333439f0279a4672e67ebf09b77e1">  466</a></span>&#160;    <a class="code" href="tr__local_8h.html#a5f4270b11e8eb5f664fd81660a2f0427">alphaGen_t</a> <a class="code" href="structrgbaGen__s.html#ab16333439f0279a4672e67ebf09b77e1">alpha</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;} <a class="code" href="_2tr__shade_8c.html#aea4776a80206813dd6340036635c38e5">rgbaGen_t</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> * @brief getRgbaGen</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> * @param pStage</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> * @param lightmapNum</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> </span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">static rgbaGen_t getRgbaGen(shaderStage_t *pStage, int lightmapNum)</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">    // always exclude the sky</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">    if (tess.surfaceShader-&gt;isSky)</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">        rgbaGen_t rgbaGen = { pStage-&gt;rgbGen, pStage-&gt;alphaGen };</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">        return rgbaGen;</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">    else</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">        qboolean isVertexLit           = (qboolean) (lightmapNum == LIGHTMAP_BY_VERTEX || lightmapNum == LIGHTMAP_WHITEIMAGE);</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">        qboolean shouldForceCgenVertex = (qboolean) (isVertexLit &amp;&amp; pStage-&gt;rgbGen == CGEN_IDENTITY);</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">        qboolean shouldForceAgenVertex = (qboolean) (isVertexLit &amp;&amp; pStage-&gt;alphaGen == AGEN_IDENTITY);</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">        int colorGen                   = shouldForceCgenVertex ? CGEN_VERTEX : pStage-&gt;rgbGen;</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">        int alphaGen                   = shouldForceAgenVertex ? AGEN_VERTEX : pStage-&gt;alphaGen;</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">        rgbaGen_t rgbaGen              = { colorGen, alphaGen };</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">        return rgbaGen;</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ac3ba6b0c0865c7c2281dcf5423f04859">  541</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a6b8c9bc0eabe1b3f05086c8705c79080">  559</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ac7c3bba8e1b47075540d04778d56a022">  636</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a316a309133277e98bcadf432ddccbd96">  776</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a953958180471366878e8666f1b1d934d">  887</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ae317fe36619214276f7466cba86264fd"> 1118</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#af9d25ab59980a48b27822857759fb168"> 1206</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ad0637a7c378822f83f016163d1b9e208"> 1367</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a4313e3184c644d2d27e72f59e334a10f"> 1524</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01698"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a78134a4022636545c1ecbf89536bbeb1"> 1698</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01772"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#af8d8b4a7d1e2fff5965705a922279cb3"> 1772</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#abb381016369a3534d996a4bbc2ca7c86"> 1812</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01862"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#abd16713d24c5dfba0874fe25bd34b988"> 1862</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01897"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a7c1246064993d56ab9579ed4a6734518"> 1897</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#aedcdc6863800227db78981865e523a04"> 1934</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a4fede807038a112988f831e25e2dd6c1"> 1974</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a0b5331c3a80c3a85e676c41ac532af46"> 2163</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02317"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ac3251587a63f3dc7ce10f95c3fd82049"> 2317</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02471"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a9e953835c17326f0a38ccf77e0d0ecfd"> 2471</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02568"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#aa7e97ab83cef21ce4b8228faff4dd1d5"> 2568</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02920"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a9f1543800c30647be3d30381ff04bdf6"> 2920</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02945"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#aa0b214fea88be5ec8a7a4b6a9310d081"> 2945</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l02998"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a7c8d2f844ff278b42c34b60e4a1aa7e1"> 2998</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03017"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a7e2720c81bf28e5f3fe25f5d80393a74"> 3017</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03043"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#ad581d3b01f253c72be7dd74e24d79265"> 3043</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03097"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a0aaaf1f2ab9eca4757d86eec2fa6682a"> 3097</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03436"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a3181dfdf381d198d247d06058a820d81"> 3436</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03511"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#a1163eeb701e7b37c90a6b415a993ea96"> 3511</a></span>&#160;<span class="comment"></span></div><div class="line"><a name="l03667"></a><span class="lineno"><a class="line" href="_2tr__shade_8c.html#afb6a871aa4767f7810a4cdca427c109f"> 3667</a></span>&#160;<span class="comment"><div class="ttc" id="structshaderCommands__s_html_a6b4d1ca366aa86dd7026860e851d7e42"><div class="ttname"><a href="structshaderCommands__s.html#a6b4d1ca366aa86dd7026860e851d7e42">shaderCommands_s::surfaceStages</a></div><div class="ttdeci">shaderStage_t ** surfaceStages</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04222">tr_local.h:4222</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a43d7ede89e2a025c899bed348357239b"><div class="ttname"><a href="structbackEndCounters__t.html#a43d7ede89e2a025c899bed348357239b">backEndCounters_t::c_drawElements</a></div><div class="ttdeci">int c_drawElements</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03388">tr_local.h:3388</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_af19349cc2ddad2ec2826e0b2237c9672"><div class="ttname"><a href="_2tr__local_8h.html#af19349cc2ddad2ec2826e0b2237c9672">GLSTACK_MVPM</a></div><div class="ttdeci">#define GLSTACK_MVPM</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04038">tr_local.h:4038</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a70e1d4ca25f4b51da7921ace90a8ec8a"><div class="ttname"><a href="_2tr__local_8h.html#a70e1d4ca25f4b51da7921ace90a8ec8a">SetUniformMatrix16</a></div><div class="ttdeci">#define SetUniformMatrix16(uniformNum, value)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04900">tr_local.h:4900</a></div></div>
<div class="ttc" id="structtrGlobals__t_html_ad36628bf4184a649bf2a54e33a464c11"><div class="ttname"><a href="structtrGlobals__t.html#ad36628bf4184a649bf2a54e33a464c11">trGlobals_t::autoCubeImage</a></div><div class="ttdeci">image_t * autoCubeImage</div><div class="ttdoc">special pointer to the nearest cubemap probe </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03513">tr_local.h:3513</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a458e651af6690959efa2afb96be7d609affc07cd443a908d52e63a1f80b3a1733"><div class="ttname"><a href="_2tr__local_8h.html#a458e651af6690959efa2afb96be7d609affc07cd443a908d52e63a1f80b3a1733">GLS_POLYMODE_LINE</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01563">tr_local.h:1563</a></div></div>
<div class="ttc" id="structshaderCommands__s_html"><div class="ttname"><a href="structshaderCommands__s.html">shaderCommands_s</a></div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01642">tr_local.h:1642</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_aa724e4006213f1a25ac38cd9101c4cb4"><div class="ttname"><a href="structshaderCommands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">shaderCommands_s::numIndexes</a></div><div class="ttdeci">int numIndexes</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01660">tr_local.h:1660</a></div></div>
<div class="ttc" id="structbackEndState__t_html_a4a0ff35cdc462e107ab607dd5f419614"><div class="ttname"><a href="structbackEndState__t.html#a4a0ff35cdc462e107ab607dd5f419614">backEndState_t::orientation</a></div><div class="ttdeci">orientationr_t orientation</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01360">tr_local.h:1360</a></div></div>
<div class="ttc" id="structshader__s_html_a8fc0bf1568f390169f53e8540ea467ef"><div class="ttname"><a href="structshader__s.html#a8fc0bf1568f390169f53e8540ea467ef">shader_s::remappedShader</a></div><div class="ttdeci">struct shader_s * remappedShader</div><div class="ttdoc">current shader this one is remapped too </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00518">tr_local.h:518</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a0f633d4840ac15bf74283d58cd981ebb"><div class="ttname"><a href="structshaderCommands__s.html#a0f633d4840ac15bf74283d58cd981ebb">shaderCommands_s::numSurfaceStages</a></div><div class="ttdeci">int numSurfaceStages</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04221">tr_local.h:4221</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a2d331fa86f53c9da1f9f4739b4052971"><div class="ttname"><a href="structshaderCommands__s.html#a2d331fa86f53c9da1f9f4739b4052971">shaderCommands_s::vboVertexSkinning</a></div><div class="ttdeci">qboolean vboVertexSkinning</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04214">tr_local.h:4214</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a75a86349501f75dde9ae5ed2ff82393caf047b05779585d442b110184c96c83b1"><div class="ttname"><a href="_2tr__local_8h.html#a75a86349501f75dde9ae5ed2ff82393caf047b05779585d442b110184c96c83b1">SHADER_2D</a></div><div class="ttdoc">surface material: shader is for 2D rendering </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01392">tr_local.h:1392</a></div></div>
<div class="ttc" id="tr__shade__calc_8c_html_a8e715a4903a8e38760a17fa62b197edf"><div class="ttname"><a href="tr__shade__calc_8c.html#a8e715a4903a8e38760a17fa62b197edf">lightOrigin</a></div><div class="ttdeci">vec3_t lightOrigin</div><div class="ttdef"><b>Definition:</b> <a href="tr__shade__calc_8c_source.html#l01294">tr_shade_calc.c:1294</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a9eeaf99477c935bff13ef5adeadaa488"><div class="ttname"><a href="structshaderCommands__s.html#a9eeaf99477c935bff13ef5adeadaa488">shaderCommands_s::svars</a></div><div class="ttdeci">stageVars_t svars</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01650">tr_local.h:1650</a></div></div>
<div class="ttc" id="structshader__s_html_a89f20ab7415b09dd1a5b2086a8a66214"><div class="ttname"><a href="structshader__s.html#a89f20ab7415b09dd1a5b2086a8a66214">shader_s::isSky</a></div><div class="ttdeci">qboolean isSky</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00483">tr_local.h:483</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_aea4776a80206813dd6340036635c38e5"><div class="ttname"><a href="_2tr__shade_8c.html#aea4776a80206813dd6340036635c38e5">rgbaGen_t</a></div><div class="ttdeci">struct rgbaGen_s rgbaGen_t</div></div>
<div class="ttc" id="cg__commandmap_8c_html_af192aff5aeee3fb6ac04fe40c6b7a592"><div class="ttname"><a href="cg__commandmap_8c.html#af192aff5aeee3fb6ac04fe40c6b7a592">gridStep</a></div><div class="ttdeci">static vec2_t gridStep</div><div class="ttdef"><b>Definition:</b> <a href="cg__commandmap_8c_source.html#l00300">cg_commandmap.c:300</a></div></div>
<div class="ttc" id="tr__local_8h_html_a5f4270b11e8eb5f664fd81660a2f0427"><div class="ttname"><a href="tr__local_8h.html#a5f4270b11e8eb5f664fd81660a2f0427">alphaGen_t</a></div><div class="ttdeci">alphaGen_t</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00201">tr_local.h:201</a></div></div>
<div class="ttc" id="structbackEndState__t_html_a68d75ed63c31fac849598634fe758150"><div class="ttname"><a href="structbackEndState__t.html#a68d75ed63c31fac849598634fe758150">backEndState_t::viewParms</a></div><div class="ttdeci">viewParms_t viewParms</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01359">tr_local.h:1359</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_af405d32772b64bcb3169b1bed582984a"><div class="ttname"><a href="_2tr__shade_8c.html#af405d32772b64bcb3169b1bed582984a">BindTexture</a></div><div class="ttdeci">static void BindTexture(image_t *image, image_t *defaultImage)</div><div class="ttdoc">Binds a texture or the given default if image is NULL This is basically used to ensure a texture for ...</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00268">tr_shade.c:268</a></div></div>
<div class="ttc" id="structworld__t_html_a3aef8bc3ac1484a891b03485a8591feb"><div class="ttname"><a href="structworld__t.html#a3aef8bc3ac1484a891b03485a8591feb">world_t::lightGridData</a></div><div class="ttdeci">byte * lightGridData</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01168">tr_local.h:1168</a></div></div>
<div class="ttc" id="structviewParms__t_html_a99041902dad93dcc545ed488b9f24be5"><div class="ttname"><a href="structviewParms__t.html#a99041902dad93dcc545ed488b9f24be5">viewParms_t::orientation</a></div><div class="ttdeci">orientationr_t orientation</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00701">tr_local.h:701</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a28a42705f15609f9049abe41734ffe26"><div class="ttname"><a href="structbackEndCounters__t.html#a28a42705f15609f9049abe41734ffe26">backEndCounters_t::c_multiDrawPrimitives</a></div><div class="ttdeci">int c_multiDrawPrimitives</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03418">tr_local.h:3418</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eaadf89c2c541ef4de15be333ae432b44f"><div class="ttname"><a href="_2tr__local_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eaadf89c2c541ef4de15be333ae432b44f">TB_COLORMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01127">tr_local.h:1127</a></div></div>
<div class="ttc" id="tr__backend_8c_html_a13fa92a6d449dca2cae76a3049f6c514"><div class="ttname"><a href="tr__backend_8c.html#a13fa92a6d449dca2cae76a3049f6c514">GL_State</a></div><div class="ttdeci">void GL_State(unsigned long stateBits)</div><div class="ttdoc">This routine is responsible for setting the most commonly changed state in Q3. </div><div class="ttdef"><b>Definition:</b> <a href="tr__backend_8c_source.html#l00225">tr_backend.c:225</a></div></div>
<div class="ttc" id="structcplane__s_html_a466a987e7f7183a242cd3ff606c7ff77"><div class="ttname"><a href="structcplane__s.html#a466a987e7f7183a242cd3ff606c7ff77">cplane_s::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00906">q_shared.h:906</a></div></div>
<div class="ttc" id="q__math_8c_html_a62d31871a09eca9e84c3a893a9bcc516"><div class="ttname"><a href="q__math_8c.html#a62d31871a09eca9e84c3a893a9bcc516">g_color_table</a></div><div class="ttdeci">vec4_t g_color_table[32]</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8c_source.html#l00072">q_math.c:72</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_aa5bfc0b691d750d4ff0625938b13ed2a"><div class="ttname"><a href="_2tr__local_8h.html#aa5bfc0b691d750d4ff0625938b13ed2a">Tess_StageIteratorSky</a></div><div class="ttdeci">void Tess_StageIteratorSky()</div><div class="ttdoc">All of the visible sky triangles are in tess Other things could be stuck in here, like birds in the s...</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__sky_8c_source.html#l00992">tr_sky.c:992</a></div></div>
<div class="ttc" id="structrefEntity__t_html_ab88f5edbfad79cbcae62cc23ccf5f333"><div class="ttname"><a href="structrefEntity__t.html#ab88f5edbfad79cbcae62cc23ccf5f333">refEntity_t::origin</a></div><div class="ttdeci">vec3_t origin</div><div class="ttdoc">also used as MODEL_BEAM&amp;#39;s &quot;from&quot; </div><div class="ttdef"><b>Definition:</b> <a href="tr__types_8h_source.html#l00209">tr_types.h:209</a></div></div>
<div class="ttc" id="structshader__s_html"><div class="ttname"><a href="structshader__s.html">shader_s</a></div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00460">tr_local.h:460</a></div></div>
<div class="ttc" id="q__math_8h_html_a34b8d82aced6931bd3a572041e59aa7d"><div class="ttname"><a href="q__math_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a></div><div class="ttdeci">float vec_t</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8h_source.html#l00041">q_math.h:41</a></div></div>
<div class="ttc" id="q__shared_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="q__shared_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00417">q_shared.h:417</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a17f2ba09d45ed73d58980fee4dd9d729"><div class="ttname"><a href="structshaderCommands__s.html#a17f2ba09d45ed73d58980fee4dd9d729">shaderCommands_s::boneMatrices</a></div><div class="ttdeci">mat4_t boneMatrices[MAX_BONES]</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04215">tr_local.h:4215</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a689eabab7a2f562bed3059d95ceea759"><div class="ttname"><a href="structbackEndCounters__t.html#a689eabab7a2f562bed3059d95ceea759">backEndCounters_t::c_batches</a></div><div class="ttdeci">int c_batches</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03384">tr_local.h:3384</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a34220355add8a764380cfa1d43b110a6"><div class="ttname"><a href="structbackEndCounters__t.html#a34220355add8a764380cfa1d43b110a6">backEndCounters_t::c_multiVboIndexes</a></div><div class="ttdeci">int c_multiVboIndexes</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03419">tr_local.h:3419</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a738cad04ade744da225dd6880c35e8ec"><div class="ttname"><a href="structshaderCommands__s.html#a738cad04ade744da225dd6880c35e8ec">shaderCommands_s::attribsSet</a></div><div class="ttdeci">uint32_t attribsSet</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04208">tr_local.h:4208</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a6e17b51d5f41cff18d639b02a98f8c6d"><div class="ttname"><a href="structshaderCommands__s.html#a6e17b51d5f41cff18d639b02a98f8c6d">shaderCommands_s::multiDrawCounts</a></div><div class="ttdeci">int multiDrawCounts[MAX_MULTIDRAW_PRIMITIVES]</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04212">tr_local.h:4212</a></div></div>
<div class="ttc" id="q__shared_8h_html_a110846a9664bbd925f955266e60e9136"><div class="ttname"><a href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a></div><div class="ttdeci">qboolean</div><div class="ttdoc">Boolean definition. </div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00357">q_shared.h:357</a></div></div>
<div class="ttc" id="structorientationr__t_html_ac0e5b962f64894705214585b9be4a481"><div class="ttname"><a href="structorientationr__t.html#ac0e5b962f64894705214585b9be4a481">orientationr_t::origin</a></div><div class="ttdeci">vec3_t origin</div><div class="ttdoc">in world coordinates </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00087">tr_local.h:87</a></div></div>
<div class="ttc" id="tr__common_8h_html_a49e74874c4bf06423bee4ddebf3da0d4"><div class="ttname"><a href="tr__common_8h.html#a49e74874c4bf06423bee4ddebf3da0d4">Ren_LogComment</a></div><div class="ttdeci">#define Ren_LogComment(...)</div><div class="ttdef"><b>Definition:</b> <a href="tr__common_8h_source.html#l00077">tr_common.h:77</a></div></div>
<div class="ttc" id="structbackEndState__t_html_af7dcb3be1d862c15cd94d6b5bf4d25c6"><div class="ttname"><a href="structbackEndState__t.html#af7dcb3be1d862c15cd94d6b5bf4d25c6">backEndState_t::refdef</a></div><div class="ttdeci">trRefdef_t refdef</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01358">tr_local.h:1358</a></div></div>
<div class="ttc" id="structtrGlobals__t_html_a3641a2f9201c25daea2e70dd88e71681"><div class="ttname"><a href="structtrGlobals__t.html#a3641a2f9201c25daea2e70dd88e71681">trGlobals_t::lightmaps</a></div><div class="ttdeci">image_t * lightmaps[MAX_LIGHTMAPS]</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01416">tr_local.h:1416</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_a2d79ebe1d4d08d2e74cad5f9d1510fdc"><div class="ttname"><a href="_2tr__shade_8c.html#a2d79ebe1d4d08d2e74cad5f9d1510fdc">Tess_DrawElements</a></div><div class="ttdeci">void Tess_DrawElements()</div><div class="ttdoc">Tess_DrawElements. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00065">tr_shade.c:65</a></div></div>
<div class="ttc" id="structcubemapProbe__t_html_a040a1d3813f746110bc0a454a92c727a"><div class="ttname"><a href="structcubemapProbe__t.html#a040a1d3813f746110bc0a454a92c727a">cubemapProbe_t::cubemap</a></div><div class="ttdeci">image_t * cubemap</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03460">tr_local.h:3460</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_a42278e5bd116ef11e5be3cdffd4cae0a"><div class="ttname"><a href="_2tr__shade_8c.html#a42278e5bd116ef11e5be3cdffd4cae0a">BindCubeMaps</a></div><div class="ttdeci">static void BindCubeMaps()</div><div class="ttdoc">BindDeluxeMap unused static void BindDeluxeMap(shaderStage_t *pStage) { image_t *deluxemap;. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00183">tr_shade.c:183</a></div></div>
<div class="ttc" id="structcvar__s_html_ae873b26596ff98802364d80bbb71c72a"><div class="ttname"><a href="structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">cvar_s::integer</a></div><div class="ttdeci">int integer</div><div class="ttdoc">atoi( string ) </div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00840">q_shared.h:840</a></div></div>
<div class="ttc" id="_2tr__init_8c_html_ab7752981814e805825ef050541cd5986"><div class="ttname"><a href="_2tr__init_8c.html#ab7752981814e805825ef050541cd5986">r_showBatches</a></div><div class="ttdeci">cvar_t * r_showBatches</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__init_8c_source.html#l00224">tr_init.c:224</a></div></div>
<div class="ttc" id="q__math_8h_html_a5fab60d2366b4888d93d5814eb04c9e9"><div class="ttname"><a href="q__math_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a></div><div class="ttdeci">vec_t vec3_t[3]</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8h_source.html#l00043">q_math.h:43</a></div></div>
<div class="ttc" id="q__math_8h_html_aa69f191c29d82fe1bfd8327cab6ef7b6"><div class="ttname"><a href="q__math_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a></div><div class="ttdeci">vec_t vec4_t[4]</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8h_source.html#l00044">q_math.h:44</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a9dda1de78bec2f6db636e2e3ef085d94"><div class="ttname"><a href="structshaderCommands__s.html#a9dda1de78bec2f6db636e2e3ef085d94">shaderCommands_s::multiDrawIndexes</a></div><div class="ttdeci">glIndex_t * multiDrawIndexes[MAX_MULTIDRAW_PRIMITIVES]</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04211">tr_local.h:4211</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a033ee42028db4919dbfd139162b1eb26"><div class="ttname"><a href="structbackEndCounters__t.html#a033ee42028db4919dbfd139162b1eb26">backEndCounters_t::c_vboIndexes</a></div><div class="ttdeci">int c_vboIndexes</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03393">tr_local.h:3393</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_ad3e27233a3abbf0ff4f1337216fd33a6"><div class="ttname"><a href="_2tr__local_8h.html#ad3e27233a3abbf0ff4f1337216fd33a6">SetUniformFloat</a></div><div class="ttdeci">#define SetUniformFloat(uniformNum, value)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04895">tr_local.h:4895</a></div></div>
<div class="ttc" id="structrgbaGen__s_html_ab16333439f0279a4672e67ebf09b77e1"><div class="ttname"><a href="structrgbaGen__s.html#ab16333439f0279a4672e67ebf09b77e1">rgbaGen_s::alpha</a></div><div class="ttdeci">alphaGen_t alpha</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00466">tr_shade.c:466</a></div></div>
<div class="ttc" id="structtrGlobals__t_html_a26544a65eb3a77514c16db1f7a7ef36a"><div class="ttname"><a href="structtrGlobals__t.html#a26544a65eb3a77514c16db1f7a7ef36a">trGlobals_t::whiteImage</a></div><div class="ttdeci">image_t * whiteImage</div><div class="ttdoc">full of 0xff </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01402">tr_local.h:1402</a></div></div>
<div class="ttc" id="structglstate__t_html_af39be9d260f3b5120dfec237764d222b"><div class="ttname"><a href="structglstate__t.html#af39be9d260f3b5120dfec237764d222b">glstate_t::currentIBO</a></div><div class="ttdeci">IBO_t * currentIBO</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03373">tr_local.h:3373</a></div></div>
<div class="ttc" id="_2tr__init_8c_html_a0b9086c669fd48ff75db36f932481468"><div class="ttname"><a href="_2tr__init_8c.html#a0b9086c669fd48ff75db36f932481468">r_showLightBatches</a></div><div class="ttdeci">cvar_t * r_showLightBatches</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__init_8c_source.html#l00221">tr_init.c:221</a></div></div>
<div class="ttc" id="structbspGridPoint__t_html"><div class="ttname"><a href="structbspGridPoint__t.html">bspGridPoint_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l02693">tr_local.h:2693</a></div></div>
<div class="ttc" id="structrgbaGen__s_html_a66755370a2a9954c5972443f315e8e0f"><div class="ttname"><a href="structrgbaGen__s.html#a66755370a2a9954c5972443f315e8e0f">rgbaGen_s::color</a></div><div class="ttdeci">colorGen_t color</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00465">tr_shade.c:465</a></div></div>
<div class="ttc" id="tr__local_8h_html_a019270c631e639100bb8a5e8cff8e34c"><div class="ttname"><a href="tr__local_8h.html#a019270c631e639100bb8a5e8cff8e34c">GL_INDEX_TYPE</a></div><div class="ttdeci">#define GL_INDEX_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00045">tr_local.h:45</a></div></div>
<div class="ttc" id="structtrRefdef__t_html_ade3c932f5d389ea35ca8b00de3815a06"><div class="ttname"><a href="structtrRefdef__t.html#ade3c932f5d389ea35ca8b00de3815a06">trRefdef_t::floatTime</a></div><div class="ttdeci">double floatTime</div><div class="ttdoc">tr.refdef.time / 1000.0 </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00596">tr_local.h:596</a></div></div>
<div class="ttc" id="_2tr__init_8c_html_a89cc2c404bbc681721dc3b1f707a9d44"><div class="ttname"><a href="_2tr__init_8c.html#a89cc2c404bbc681721dc3b1f707a9d44">glConfig2</a></div><div class="ttdeci">glconfig2_t glConfig2</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__init_8c_source.html#l00041">tr_init.c:41</a></div></div>
<div class="ttc" id="tr__init_8c_html_adbbd6d1e55098b5545ee1c888e3b0bd2"><div class="ttname"><a href="tr__init_8c.html#adbbd6d1e55098b5545ee1c888e3b0bd2">glState</a></div><div class="ttdeci">glstate_t glState</div><div class="ttdoc">outside of TR since it shouldn&amp;#39;t be cleared during ref re-init </div><div class="ttdef"><b>Definition:</b> <a href="tr__init_8c_source.html#l00042">tr_init.c:42</a></div></div>
<div class="ttc" id="structworld__t_html_a4f6a55e6a847d9a6a57fb34fa5a626ab"><div class="ttname"><a href="structworld__t.html#a4f6a55e6a847d9a6a57fb34fa5a626ab">world_t::lightGridInverseSize</a></div><div class="ttdeci">vec3_t lightGridInverseSize</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01166">tr_local.h:1166</a></div></div>
<div class="ttc" id="structtrGlobals__t_html_a515fa65dffc89b1e7a178e06b41c1127"><div class="ttname"><a href="structtrGlobals__t.html#a515fa65dffc89b1e7a178e06b41c1127">trGlobals_t::worldEntity</a></div><div class="ttdeci">trRefEntity_t worldEntity</div><div class="ttdoc">point currentEntity at this when rendering world </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01419">tr_local.h:1419</a></div></div>
<div class="ttc" id="tr__animation__mdm_8c_html_a7e13b3568b7b041b8cab1201461c2ab5"><div class="ttname"><a href="tr__animation__mdm_8c.html#a7e13b3568b7b041b8cab1201461c2ab5">v</a></div><div class="ttdeci">static mdmVertex_t * v</div><div class="ttdef"><b>Definition:</b> <a href="tr__animation__mdm_8c_source.html#l00060">tr_animation_mdm.c:60</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a458e651af6690959efa2afb96be7d609a26c7b5847174a854a49f9b7db6dee3e2"><div class="ttname"><a href="_2tr__local_8h.html#a458e651af6690959efa2afb96be7d609a26c7b5847174a854a49f9b7db6dee3e2">GLS_DEPTHMASK_TRUE</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01561">tr_local.h:1561</a></div></div>
<div class="ttc" id="tr__glsl_8c_html_a285556cc7dab54ce29453bec1c2cb500"><div class="ttname"><a href="tr__glsl_8c.html#a285556cc7dab54ce29453bec1c2cb500">GLSL_SetUniform_ColorModulate</a></div><div class="ttdeci">void GLSL_SetUniform_ColorModulate(programInfo_t *prog, int colorGen, int alphaGen)</div><div class="ttdoc">GLSL_SetUniform_ColorModulate. </div><div class="ttdef"><b>Definition:</b> <a href="tr__glsl_8c_source.html#l02984">tr_glsl.c:2984</a></div></div>
<div class="ttc" id="tr__glsl_8c_html_ae7a711a9f1f25bc0b2169bd4b97043a7"><div class="ttname"><a href="tr__glsl_8c.html#ae7a711a9f1f25bc0b2169bd4b97043a7">GLSL_SetUniform_DeformParms</a></div><div class="ttdeci">void GLSL_SetUniform_DeformParms(deformStage_t deforms[], int numDeforms)</div><div class="ttdoc">GLSL_SetUniform_DeformParms. </div><div class="ttdef"><b>Definition:</b> <a href="tr__glsl_8c_source.html#l02921">tr_glsl.c:2921</a></div></div>
<div class="ttc" id="tr__types_8h_html_abdb86b63a3ac2d2b3d6ad946ea404087"><div class="ttname"><a href="tr__types_8h.html#abdb86b63a3ac2d2b3d6ad946ea404087">MAX_BONES</a></div><div class="ttdeci">#define MAX_BONES</div><div class="ttdoc">RB: same as MDX_MAX_BONES. </div><div class="ttdef"><b>Definition:</b> <a href="tr__types_8h_source.html#l00043">tr_types.h:43</a></div></div>
<div class="ttc" id="tr__local_8h_html_a157944afb15e3073932b378dc6e6f9cf"><div class="ttname"><a href="tr__local_8h.html#a157944afb15e3073932b378dc6e6f9cf">colorGen_t</a></div><div class="ttdeci">colorGen_t</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00220">tr_local.h:220</a></div></div>
<div class="ttc" id="structshader__s_html_aacc170d2e968a5ea8d145e94d909994c"><div class="ttname"><a href="structshader__s.html#aacc170d2e968a5ea8d145e94d909994c">shader_s::numStages</a></div><div class="ttdeci">uint8_t numStages</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01470">tr_local.h:1470</a></div></div>
<div class="ttc" id="structrgbaGen__s_html"><div class="ttname"><a href="structrgbaGen__s.html">rgbaGen_s</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00464">tr_shade.c:464</a></div></div>
<div class="ttc" id="tr__backend_8c_html_a0484bda4e1827703dad9dd3251b630ca"><div class="ttname"><a href="tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a></div><div class="ttdeci">backEndState_t backEnd</div><div class="ttdef"><b>Definition:</b> <a href="tr__backend_8c_source.html#l00038">tr_backend.c:38</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_afdb22052698bf33a15b58be3d306f164"><div class="ttname"><a href="_2tr__shade_8c.html#afdb22052698bf33a15b58be3d306f164">Tess_Begin</a></div><div class="ttdeci">void Tess_Begin(void(*stageIteratorFunc)(), void(*stageIteratorFunc2)(), shader_t *surfaceShader, shader_t *lightShader, qboolean skipTangentSpaces, qboolean skipVBO, int lightmapNum, int fogNum)</div><div class="ttdoc">We must set some things up before beginning any tesselation, because a surface may be forced to perfo...</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00369">tr_shade.c:369</a></div></div>
<div class="ttc" id="structtrRefEntity__t_html_a07376523c746b9384013860e7d0efc0a"><div class="ttname"><a href="structtrRefEntity__t.html#a07376523c746b9384013860e7d0efc0a">trRefEntity_t::e</a></div><div class="ttdeci">refEntity_t e</div><div class="ttdoc">public from client game </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00067">tr_local.h:67</a></div></div>
<div class="ttc" id="structglstate__t_html_ac5c109841c9826d93833c2a72a5a522a"><div class="ttname"><a href="structglstate__t.html#ac5c109841c9826d93833c2a72a5a522a">glstate_t::vertexAttribsInterpolation</a></div><div class="ttdeci">float vertexAttribsInterpolation</div><div class="ttdoc">0 = no interpolation, 1 = final position </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03367">tr_local.h:3367</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_ab3cedb51d585073a063bc0d6e6a24f37"><div class="ttname"><a href="_2tr__shade_8c.html#ab3cedb51d585073a063bc0d6e6a24f37">LightgridColor</a></div><div class="ttdeci">bspGridPoint_t * LightgridColor(const vec3_t position)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00225">tr_shade.c:225</a></div></div>
<div class="ttc" id="structshader__s_html_a313b39b73b1c664d0ced38eea263e0b9"><div class="ttname"><a href="structshader__s.html#a313b39b73b1c664d0ced38eea263e0b9">shader_s::type</a></div><div class="ttdeci">shaderType_t type</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l01406">tr_local.h:1406</a></div></div>
<div class="ttc" id="tr__local_8h_html_a157944afb15e3073932b378dc6e6f9cfa1fbea70c7c55f64be26dc0a4629c366c"><div class="ttname"><a href="tr__local_8h.html#a157944afb15e3073932b378dc6e6f9cfa1fbea70c7c55f64be26dc0a4629c366c">CGEN_CONST</a></div><div class="ttdoc">fixed color </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00233">tr_local.h:233</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_aa445489a93000a9b936be58793a9cd08"><div class="ttname"><a href="_2tr__shade_8c.html#aa445489a93000a9b936be58793a9cd08">clipPortalPlane</a></div><div class="ttdeci">void clipPortalPlane()</div><div class="ttdoc">clipping portal plane in world space </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00453">tr_shade.c:453</a></div></div>
<div class="ttc" id="_2tr__local_8h_html"><div class="ttname"><a href="_2tr__local_8h.html">tr_local.h</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a063a3af905ecefe83d76ca3f0fe0653e"><div class="ttname"><a href="_2tr__local_8h.html#a063a3af905ecefe83d76ca3f0fe0653e">BUFFER_OFFSET</a></div><div class="ttdeci">#define BUFFER_OFFSET(i)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l00054">tr_local.h:54</a></div></div>
<div class="ttc" id="tr__growlist_8c_html_a28d713023f3f81492b95b03088fc9e6c"><div class="ttname"><a href="tr__growlist_8c.html#a28d713023f3f81492b95b03088fc9e6c">Com_GrowListElement</a></div><div class="ttdeci">void * Com_GrowListElement(const growList_t *list, int index)</div><div class="ttdoc">Com_GrowListElement. </div><div class="ttdef"><b>Definition:</b> <a href="tr__growlist_8c_source.html#l00125">tr_growlist.c:125</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_a9cfe47a1256f5dfc47b88ad474b5f244"><div class="ttname"><a href="_2tr__shade_8c.html#a9cfe47a1256f5dfc47b88ad474b5f244">BindLightMap</a></div><div class="ttdeci">static void BindLightMap()</div><div class="ttdoc">BindLightMap. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00127">tr_shade.c:127</a></div></div>
<div class="ttc" id="structshader__s_html_a874dcb77fabe25790074e9111e5ea8a0"><div class="ttname"><a href="structshader__s.html#a874dcb77fabe25790074e9111e5ea8a0">shader_s::stages</a></div><div class="ttdeci">shaderStage_t * stages[MAX_SHADER_STAGES]</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00511">tr_local.h:511</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a846aa7f36decc5761075f4a9e052a588"><div class="ttname"><a href="_2tr__local_8h.html#a846aa7f36decc5761075f4a9e052a588">SelectTexture</a></div><div class="ttdeci">#define SelectTexture(tex)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04892">tr_local.h:4892</a></div></div>
<div class="ttc" id="structshader__s_html_ab0438ecf32c7ae598e6289354e20385c"><div class="ttname"><a href="structshader__s.html#ab0438ecf32c7ae598e6289354e20385c">shader_s::clampTime</a></div><div class="ttdeci">double clampTime</div><div class="ttdoc">time this shader is clamped to </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00515">tr_local.h:515</a></div></div>
<div class="ttc" id="structtrGlobals__t_html_a991f15c84048ad59107d4d5d237b3a6e"><div class="ttname"><a href="structtrGlobals__t.html#a991f15c84048ad59107d4d5d237b3a6e">trGlobals_t::world</a></div><div class="ttdeci">world_t * world</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01392">tr_local.h:1392</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="puff_8c_source.html#l00085">puff.c:85</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a54c7ab84c783f0bed6ae9bc1ff2fdc2d"><div class="ttname"><a href="structshaderCommands__s.html#a54c7ab84c783f0bed6ae9bc1ff2fdc2d">shaderCommands_s::surfaceShader</a></div><div class="ttdeci">shader_t * surfaceShader</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04196">tr_local.h:4196</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a59e1dfba6b4e887e0b23066c6702d334"><div class="ttname"><a href="structbackEndCounters__t.html#a59e1dfba6b4e887e0b23066c6702d334">backEndCounters_t::c_indexes</a></div><div class="ttdeci">int c_indexes</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01338">tr_local.h:1338</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a634a34277cc94e4fc8877398a9aa006a"><div class="ttname"><a href="structshaderCommands__s.html#a634a34277cc94e4fc8877398a9aa006a">shaderCommands_s::fogNum</a></div><div class="ttdeci">int fogNum</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01656">tr_local.h:1656</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a439ed1b215ccd9a0cd1ae13c24569f4c"><div class="ttname"><a href="structbackEndCounters__t.html#a439ed1b215ccd9a0cd1ae13c24569f4c">backEndCounters_t::c_vertexes</a></div><div class="ttdeci">int c_vertexes</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01338">tr_local.h:1338</a></div></div>
<div class="ttc" id="tr__backend_8c_html_a2486443fd9b4d6b6899c41557c1e9b55"><div class="ttname"><a href="tr__backend_8c.html#a2486443fd9b4d6b6899c41557c1e9b55">GL_Bind</a></div><div class="ttdeci">void GL_Bind(image_t *image)</div><div class="ttdoc">GL_Bind. </div><div class="ttdef"><b>Definition:</b> <a href="tr__backend_8c_source.html#l00057">tr_backend.c:57</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_ae4a2bca3b839a8d9dbbb4c9357dbd866"><div class="ttname"><a href="_2tr__shade_8c.html#ae4a2bca3b839a8d9dbbb4c9357dbd866">DrawTris</a></div><div class="ttdeci">static void DrawTris()</div><div class="ttdoc">Draws triangle outlines for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l00280">tr_shade.c:280</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_af207e3bc3719f78c51fd7be0420d0cff"><div class="ttname"><a href="structshaderCommands__s.html#af207e3bc3719f78c51fd7be0420d0cff">shaderCommands_s::vbo</a></div><div class="ttdeci">VBO_t * vbo</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04191">tr_local.h:4191</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_ac0d91d4c3792c303bd7d20e2c24185de"><div class="ttname"><a href="structshaderCommands__s.html#ac0d91d4c3792c303bd7d20e2c24185de">shaderCommands_s::lightShader</a></div><div class="ttdeci">shader_t * lightShader</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04197">tr_local.h:4197</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a9eef65cbd29baf74b570a95837fc9980"><div class="ttname"><a href="structshaderCommands__s.html#a9eef65cbd29baf74b570a95837fc9980">shaderCommands_s::shaderTime</a></div><div class="ttdeci">double shaderTime</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01655">tr_local.h:1655</a></div></div>
<div class="ttc" id="structviewParms__t_html_ace457fbc4eb792ef5f7b6e12fefa32e8"><div class="ttname"><a href="structviewParms__t.html#ace457fbc4eb792ef5f7b6e12fefa32e8">viewParms_t::isPortal</a></div><div class="ttdeci">qboolean isPortal</div><div class="ttdoc">true if this view is through a portal </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00704">tr_local.h:704</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a1bb9c769e2dc9cbce1c49344aef7fb50"><div class="ttname"><a href="_2tr__local_8h.html#a1bb9c769e2dc9cbce1c49344aef7fb50">SetUniformVec4</a></div><div class="ttdeci">#define SetUniformVec4(uniformNum, value)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04899">tr_local.h:4899</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a175f2eb0bc858ae277c0d11582ee5b62"><div class="ttname"><a href="structshaderCommands__s.html#a175f2eb0bc858ae277c0d11582ee5b62">shaderCommands_s::multiDrawPrimitives</a></div><div class="ttdeci">int multiDrawPrimitives</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04210">tr_local.h:4210</a></div></div>
<div class="ttc" id="structbackEndState__t_html_a633b685d52f68a5626922b05f9fbc984"><div class="ttname"><a href="structbackEndState__t.html#a633b685d52f68a5626922b05f9fbc984">backEndState_t::pc</a></div><div class="ttdeci">backEndCounters_t pc</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01361">tr_local.h:1361</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_afd5786e74aaa598ed3faf6e84f93283d"><div class="ttname"><a href="structshaderCommands__s.html#afd5786e74aaa598ed3faf6e84f93283d">shaderCommands_s::indexes</a></div><div class="ttdeci">glIndex_t indexes[SHADER_MAX_INDEXES]</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01644">tr_local.h:1644</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a892e1a938ce58f1a1feef4f63c45f746"><div class="ttname"><a href="structshaderCommands__s.html#a892e1a938ce58f1a1feef4f63c45f746">shaderCommands_s::stageIteratorFunc</a></div><div class="ttdeci">void(* stageIteratorFunc)()</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04218">tr_local.h:4218</a></div></div>
<div class="ttc" id="structcplane__s_html_acdd292ac50d634994022aba7d3f89dff"><div class="ttname"><a href="structcplane__s.html#acdd292ac50d634994022aba7d3f89dff">cplane_s::dist</a></div><div class="ttdeci">float dist</div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00907">q_shared.h:907</a></div></div>
<div class="ttc" id="structshader__s_html_afc2e518516d0759c0db52f4e1169869a"><div class="ttname"><a href="structshader__s.html#afc2e518516d0759c0db52f4e1169869a">shader_s::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdoc">game path, including extension </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00462">tr_local.h:462</a></div></div>
<div class="ttc" id="_2tr__bsp_8c_html_a46fcf83686ada4159e384e990e2cab5f"><div class="ttname"><a href="_2tr__bsp_8c.html#a46fcf83686ada4159e384e990e2cab5f">R_FindTwoNearestCubeMaps</a></div><div class="ttdeci">void R_FindTwoNearestCubeMaps(const vec3_t position, cubemapProbe_t **cubeProbe1, cubemapProbe_t **cubeProbe2, float *distance1, float *distance2)</div><div class="ttdoc">R_FindTwoNearestCubeMaps. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__bsp_8c_source.html#l07848">tr_bsp.c:7848</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_aad1a000fe0048f30f06285f2f96d4c7a"><div class="ttname"><a href="structshaderCommands__s.html#aad1a000fe0048f30f06285f2f96d4c7a">shaderCommands_s::stageIteratorFunc2</a></div><div class="ttdeci">void(* stageIteratorFunc2)()</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04219">tr_local.h:4219</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a135c7ec86d292ecd8fa75ba70ec64dc5"><div class="ttname"><a href="structbackEndCounters__t.html#a135c7ec86d292ecd8fa75ba70ec64dc5">backEndCounters_t::c_multiDrawElements</a></div><div class="ttdeci">int c_multiDrawElements</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03417">tr_local.h:3417</a></div></div>
<div class="ttc" id="structbackEndState__t_html_ab94d05ce546266206f83ff822fa54479"><div class="ttname"><a href="structbackEndState__t.html#ab94d05ce546266206f83ff822fa54479">backEndState_t::currentEntity</a></div><div class="ttdeci">trRefEntity_t * currentEntity</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01363">tr_local.h:1363</a></div></div>
<div class="ttc" id="structshader__s_html_aa725e7da5f6f09ebd32d43a8475e7342"><div class="ttname"><a href="structshader__s.html#aa725e7da5f6f09ebd32d43a8475e7342">shader_s::deforms</a></div><div class="ttdeci">deformStage_t deforms[MAX_SHADER_DEFORMS]</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00508">tr_local.h:508</a></div></div>
<div class="ttc" id="structglconfig2__t_html_afe93a05d66fc354515ac89197b8a7f4a"><div class="ttname"><a href="structglconfig2__t.html#afe93a05d66fc354515ac89197b8a7f4a">glconfig2_t::vboVertexSkinningAvailable</a></div><div class="ttdeci">qboolean vboVertexSkinningAvailable</div><div class="ttdef"><b>Definition:</b> <a href="tr__extra_8h_source.html#l00068">tr_extra.h:68</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_af3cb1c5903a192ce19be9a89c29e004b"><div class="ttname"><a href="structshaderCommands__s.html#af3cb1c5903a192ce19be9a89c29e004b">shaderCommands_s::skipVBO</a></div><div class="ttdeci">qboolean skipVBO</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04202">tr_local.h:4202</a></div></div>
<div class="ttc" id="structimage__s_html"><div class="ttname"><a href="structimage__s.html">image_s</a></div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00098">tr_local.h:98</a></div></div>
<div class="ttc" id="q__shared_8h_html_a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40"><div class="ttname"><a href="q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a></div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l00357">q_shared.h:357</a></div></div>
<div class="ttc" id="tr__common_8h_html_a58ed4136a90ad8c1dcf1795785834c89"><div class="ttname"><a href="tr__common_8h.html#a58ed4136a90ad8c1dcf1795785834c89">Ren_Fatal</a></div><div class="ttdeci">#define Ren_Fatal(...)</div><div class="ttdef"><b>Definition:</b> <a href="tr__common_8h_source.html#l00087">tr_common.h:87</a></div></div>
<div class="ttc" id="structcubemapProbe__t_html"><div class="ttname"><a href="structcubemapProbe__t.html">cubemapProbe_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03457">tr_local.h:3457</a></div></div>
<div class="ttc" id="structbackEndCounters__t_html_a314833200e129e56302656afe7fed31c"><div class="ttname"><a href="structbackEndCounters__t.html#a314833200e129e56302656afe7fed31c">backEndCounters_t::c_vboVertexes</a></div><div class="ttdeci">int c_vboVertexes</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03392">tr_local.h:3392</a></div></div>
<div class="ttc" id="_2tr__shade_8c_html_a0aaaf1f2ab9eca4757d86eec2fa6682a"><div class="ttname"><a href="_2tr__shade_8c.html#a0aaaf1f2ab9eca4757d86eec2fa6682a">Tess_StageIteratorGeneric</a></div><div class="ttdeci">void Tess_StageIteratorGeneric()</div><div class="ttdoc">Tess_StageIteratorGeneric. </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__shade_8c_source.html#l03097">tr_shade.c:3097</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a4b3932fd863a12ffe7b0305d1168c5f2"><div class="ttname"><a href="structshaderCommands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">shaderCommands_s::numVertexes</a></div><div class="ttdeci">int numVertexes</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01661">tr_local.h:1661</a></div></div>
<div class="ttc" id="structglstate__t_html_a4b017bca5a1e5cfdd1d05dade5a11b6f"><div class="ttname"><a href="structglstate__t.html#a4b017bca5a1e5cfdd1d05dade5a11b6f">glstate_t::currentVBO</a></div><div class="ttdeci">VBO_t * currentVBO</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03372">tr_local.h:3372</a></div></div>
<div class="ttc" id="structworld__t_html_aed971383ee985f315048b88b7992e4fc"><div class="ttname"><a href="structworld__t.html#aed971383ee985f315048b88b7992e4fc">world_t::lightGridBounds</a></div><div class="ttdeci">int lightGridBounds[3]</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01167">tr_local.h:1167</a></div></div>
<div class="ttc" id="tr__local_8h_html_a5f4270b11e8eb5f664fd81660a2f0427ae319229e08f6cb95dc5fe30bd9587d77"><div class="ttname"><a href="tr__local_8h.html#a5f4270b11e8eb5f664fd81660a2f0427ae319229e08f6cb95dc5fe30bd9587d77">AGEN_CONST</a></div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00213">tr_local.h:213</a></div></div>
<div class="ttc" id="structviewParms__t_html_a991daa8ef8ed15659df635c41e031d23"><div class="ttname"><a href="structviewParms__t.html#a991daa8ef8ed15659df635c41e031d23">viewParms_t::portalPlane</a></div><div class="ttdeci">cplane_t portalPlane</div><div class="ttdoc">clip anything behind this if mirroring </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00708">tr_local.h:708</a></div></div>
<div class="ttc" id="structshader__s_html_a07935f69cd87b50a9f0575dc0a8e5d19"><div class="ttname"><a href="structshader__s.html#a07935f69cd87b50a9f0575dc0a8e5d19">shader_s::timeOffset</a></div><div class="ttdeci">double timeOffset</div><div class="ttdoc">current time offset for this shader </div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00516">tr_local.h:516</a></div></div>
<div class="ttc" id="q__shared_8h_html_acee920a7a509b98f219ea025a2bee6a6"><div class="ttname"><a href="q__shared_8h.html#acee920a7a509b98f219ea025a2bee6a6">etl_assert</a></div><div class="ttdeci">#define etl_assert(x)</div><div class="ttdef"><b>Definition:</b> <a href="q__shared_8h_source.html#l01759">q_shared.h:1759</a></div></div>
<div class="ttc" id="structtrPrograms__s_html_a538677f42147a35a1176f35f8aee45bd"><div class="ttname"><a href="structtrPrograms__s.html#a538677f42147a35a1176f35f8aee45bd">trPrograms_s::gl_genericShader</a></div><div class="ttdeci">programInfo_t * gl_genericShader</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l03674">tr_local.h:3674</a></div></div>
<div class="ttc" id="tr__glsl_8c_html_a99226596358531924bb662c0302857e3"><div class="ttname"><a href="tr__glsl_8c.html#a99226596358531924bb662c0302857e3">trProg</a></div><div class="ttdeci">trPrograms_t trProg</div><div class="ttdef"><b>Definition:</b> <a href="tr__glsl_8c_source.html#l00135">tr_glsl.c:135</a></div></div>
<div class="ttc" id="q__math_8c_html_ad7d88bc5fdfab7daaecd31b4de4c3350"><div class="ttname"><a href="q__math_8c.html#ad7d88bc5fdfab7daaecd31b4de4c3350">colorRed</a></div><div class="ttdeci">vec4_t colorRed</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8c_source.html#l00042">q_math.c:42</a></div></div>
<div class="ttc" id="tr__local_8h_html_a2592c0b3e354564bc96081b55e3912aa"><div class="ttname"><a href="tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a></div><div class="ttdeci">trGlobals_t tr</div><div class="ttdef"><b>Definition:</b> <a href="tr__main_8c_source.html#l00038">tr_main.c:38</a></div></div>
<div class="ttc" id="structorientationr__t_html_a28618b99494bae5d7df85b2a874a2b5d"><div class="ttname"><a href="structorientationr__t.html#a28618b99494bae5d7df85b2a874a2b5d">orientationr_t::transformMatrix</a></div><div class="ttdeci">mat4_t transformMatrix</div><div class="ttdoc">transforms object to world: either used by camera, model or light </div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l00512">tr_local.h:512</a></div></div>
<div class="ttc" id="q__math_8c_html_a7798365e8c9fb334ec4b483cd1ea1fca"><div class="ttname"><a href="q__math_8c.html#a7798365e8c9fb334ec4b483cd1ea1fca">colorWhite</a></div><div class="ttdeci">vec4_t colorWhite</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8c_source.html#l00049">q_math.c:49</a></div></div>
<div class="ttc" id="q__math_8c_html_a6f8fca61e0890bd029c57859218746da"><div class="ttname"><a href="q__math_8c.html#a6f8fca61e0890bd029c57859218746da">colorBlue</a></div><div class="ttdeci">vec4_t colorBlue</div><div class="ttdef"><b>Definition:</b> <a href="q__math_8c_source.html#l00044">q_math.c:44</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a354cb6819daa4825accf9c3e902906f6"><div class="ttname"><a href="structshaderCommands__s.html#a354cb6819daa4825accf9c3e902906f6">shaderCommands_s::skipTangentSpaces</a></div><div class="ttdeci">qboolean skipTangentSpaces</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04201">tr_local.h:4201</a></div></div>
<div class="ttc" id="structworld__t_html_a8227dac4b5dedc544a95d4847795777d"><div class="ttname"><a href="structworld__t.html#a8227dac4b5dedc544a95d4847795777d">world_t::lightGridOrigin</a></div><div class="ttdeci">vec3_t lightGridOrigin</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l01164">tr_local.h:1164</a></div></div>
<div class="ttc" id="tr__shade_8c_html_ac5fd622afcb6ecc6963586d541146569"><div class="ttname"><a href="tr__shade_8c.html#ac5fd622afcb6ecc6963586d541146569">tess</a></div><div class="ttdeci">shaderCommands_t tess</div><div class="ttdef"><b>Definition:</b> <a href="tr__shade_8c_source.html#l00217">tr_shade.c:217</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a62561a7ab8ad9d98bd5d27a8545ac390"><div class="ttname"><a href="_2tr__local_8h.html#a62561a7ab8ad9d98bd5d27a8545ac390">SetMacrosAndSelectProgram</a></div><div class="ttdeci">#define SetMacrosAndSelectProgram(program,...)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04906">tr_local.h:4906</a></div></div>
<div class="ttc" id="structshader__s_html_ad7e072249689528b97c784b3ab0ae887"><div class="ttname"><a href="structshader__s.html#ad7e072249689528b97c784b3ab0ae887">shader_s::numDeforms</a></div><div class="ttdeci">int numDeforms</div><div class="ttdef"><b>Definition:</b> <a href="tr__local_8h_source.html#l00507">tr_local.h:507</a></div></div>
<div class="ttc" id="structshaderCommands__s_html_a69b533606cb4f3c1a0bec78570078031"><div class="ttname"><a href="structshaderCommands__s.html#a69b533606cb4f3c1a0bec78570078031">shaderCommands_s::lightmapNum</a></div><div class="ttdeci">int16_t lightmapNum</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04203">tr_local.h:4203</a></div></div>
<div class="ttc" id="tr__glsl_8c_html_aa06c82dd58c54a49b85444dd53cfff0c"><div class="ttname"><a href="tr__glsl_8c.html#aa06c82dd58c54a49b85444dd53cfff0c">GLSL_SetRequiredVertexPointers</a></div><div class="ttdeci">void GLSL_SetRequiredVertexPointers(programInfo_t *programlist)</div><div class="ttdoc">GLSL_SetRequiredVertexPointers. </div><div class="ttdef"><b>Definition:</b> <a href="tr__glsl_8c_source.html#l02590">tr_glsl.c:2590</a></div></div>
<div class="ttc" id="_2tr__local_8h_html_a987c585f3850d43c3970fdd5e72d50ad"><div class="ttname"><a href="_2tr__local_8h.html#a987c585f3850d43c3970fdd5e72d50ad">SetUniformMatrix16ARR</a></div><div class="ttdeci">#define SetUniformMatrix16ARR(uniformNum, value, size)</div><div class="ttdef"><b>Definition:</b> <a href="_2tr__local_8h_source.html#l04903">tr_local.h:4903</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 16 2019 14:19:53 for ET: Legacy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
